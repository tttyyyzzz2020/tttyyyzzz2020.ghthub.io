<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>tttyyyzzz2020</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://tttyyyzzz2020.ghthub.io/"/>
  <updated>2020-08-30T02:56:47.941Z</updated>
  <id>http://tttyyyzzz2020.ghthub.io/</id>
  
  <author>
    <name>yongzhan</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Combineæ•°æ®çŠ¶æ€ç®¡ç†åŸºç¡€</title>
    <link href="http://tttyyyzzz2020.ghthub.io/2020/08/19/SwiftUI-StateManager/"/>
    <id>http://tttyyyzzz2020.ghthub.io/2020/08/19/SwiftUI-StateManager/</id>
    <published>2020-08-19T10:51:20.000Z</published>
    <updated>2020-08-30T02:56:47.941Z</updated>
    
    <content type="html"><![CDATA[<p>å­¦ä¹ combine æ•°æ®ç®¡ç†ï¼Œéœ€è¦å…ˆå­¦ä¹ å±æ€§åŒ…è£…@PropertyWrapper</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="type">State</span>              é¡µé¢çŠ¶æ€æ•°æ®</span><br><span class="line">@<span class="type">Binding</span>            é¡µé¢æ•°æ®åŒå‘ç»‘å®š</span><br><span class="line">@<span class="type">ObservedObject</span>    å…±äº«æ•°æ®å¯¹è±¡   ï¼ˆå¼•ç”¨ï¼‰</span><br><span class="line">@<span class="type">StateObject</span>       å…±äº«æ•°æ®å¯¹è±¡   ï¼ˆåˆ›å»ºï¼‰</span><br><span class="line">@<span class="type">EnvironmentObject</span>   å…¨å±€æ•°æ®å¯¹è±¡</span><br><span class="line">@<span class="type">Environment</span>         ç³»ç»Ÿæ•°æ®</span><br></pre></td></tr></table></figure><h2 id="æ•°æ®å“åº”å’Œç»‘å®š"><a href="#æ•°æ®å“åº”å’Œç»‘å®š" class="headerlink" title="æ•°æ®å“åº”å’Œç»‘å®š"></a>æ•°æ®å“åº”å’Œç»‘å®š</h2><blockquote><p>@State ä¿®é¥°ç¬¦ å°†æ•°æ®è½¬ä¸ºå“åº”å¼çš„çŠ¶æ€ï¼Œæ•°æ®çš„è·Ÿæ–°å¯é©±åŠ¨è§†å›¾çš„å˜åŒ–</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SignupView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> handler: (<span class="type">User</span>) -&gt; <span class="type">Void</span></span><br><span class="line">    </span><br><span class="line">    @<span class="type">State</span> <span class="keyword">private</span> <span class="keyword">var</span> username = <span class="string">""</span></span><br><span class="line">    @<span class="type">State</span> <span class="keyword">private</span> <span class="keyword">var</span> email = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>@Binding ä¿®é¥°ç¬¦ æ•°æ®è¿›è¡ŒåŒå‘ç»‘å®š, å­è§†å›¾ä¸ç”¨æ‹¥æœ‰æ•°æ®æœ¬çœï¼Œå¯æ¥å—çˆ¶è§†å›¾ä¼ é€’å…±äº«</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ProfileEditingView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">Binding</span> <span class="keyword">var</span> user: <span class="type">User</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">TextField</span>(<span class="string">"Username"</span>, text: $user.username)</span><br><span class="line">            <span class="type">TextField</span>(<span class="string">"Email"</span>, text: $user.email)</span><br><span class="line">        &#125;</span><br><span class="line">        .padding()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¤šä¸ªé¡µé¢æ•°æ®å…±äº«æ€ä¹ˆå¤„ç†ï¼Ÿ"><a href="#å¤šä¸ªé¡µé¢æ•°æ®å…±äº«æ€ä¹ˆå¤„ç†ï¼Ÿ" class="headerlink" title="å¤šä¸ªé¡µé¢æ•°æ®å…±äº«æ€ä¹ˆå¤„ç†ï¼Ÿ"></a>å¤šä¸ªé¡µé¢æ•°æ®å…±äº«æ€ä¹ˆå¤„ç†ï¼Ÿ</h2><blockquote><p>ä½¿ç”¨ <code>ObservableObject</code> å’Œ <code>@ObservedObject</code> å¯åˆ›å»ºä¸€ä¸ªå¯è§‚æµ‹çš„æ•°æ®æ¨¡å‹ï¼Œå¹¶åœ¨å¤šä¸ªé¡µé¢å…±äº«æ•°æ®å®ä¾‹</p></blockquote><p>åˆ›å»ºæ•°æ®ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserModelController</span>: <span class="title">ObservableObject</span> </span>&#123;</span><br><span class="line">    @<span class="type">Published</span> <span class="keyword">var</span> user: <span class="type">User</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ•°æ®ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ProfileView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">ObservedObject</span> <span class="keyword">var</span> userController: <span class="type">UserModelController</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨<code>@ObservedObject</code>, ä¼šåœ¨åŒä¸€é¡µé¢å…±äº«æ•°æ®å®ä¾‹ï¼Œå¦‚æœä¸æƒ³å¦‚æ­¤ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>@StateObject</code>ä¿®é¥°ï¼Œä½¿å¾—è§†å›¾èƒ½å•ç‹¬æ‹¥æœ‰ä¸€ä¸ªæ•°æ®å®ä¾‹</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ProfileView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">StateObject</span> <span class="keyword">var</span> userController = <span class="type">UserModelController</span>.load()</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…¨å±€æ•°æ®å¯¹è±¡æ³¨å…¥è·å–"><a href="#å…¨å±€æ•°æ®å¯¹è±¡æ³¨å…¥è·å–" class="headerlink" title="å…¨å±€æ•°æ®å¯¹è±¡æ³¨å…¥è·å–"></a>å…¨å±€æ•°æ®å¯¹è±¡æ³¨å…¥è·å–</h2><p>åˆ›å»ºæ•°æ®ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ThemeEnvironmentKey</span>: <span class="title">EnvironmentKey</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> defaultValue = <span class="type">Theme</span>.<span class="keyword">default</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">EnvironmentValues</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> theme: <span class="type">Theme</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">self</span>[<span class="type">ThemeEnvironmentKey</span>.<span class="keyword">self</span>] &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123; <span class="keyword">self</span>[<span class="type">ThemeEnvironmentKey</span>.<span class="keyword">self</span>] = newValue &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨æ–¹å¼ä¸€ï¼š ç›´æ¥è·å–</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ArticleView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">EnvironmentObject</span> <span class="keyword">var</span> theme: <span class="type">Theme</span></span><br><span class="line">    <span class="keyword">var</span> article: <span class="type">Article</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">            <span class="type">Text</span>(article.title)</span><br><span class="line">                .foregroundColor(theme.titleTextColor)</span><br><span class="line">            <span class="type">Text</span>(article.body)</span><br><span class="line">                .foregroundColor(theme.bodyTextColor)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨æ–¹å¼2: çˆ¶çº§è§†å›¾æ³¨å…¥</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">RootView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">ObservedObject</span> <span class="keyword">var</span> theme: <span class="type">Theme</span></span><br><span class="line">    @<span class="type">ObservedObject</span> <span class="keyword">var</span> articleLibrary: <span class="type">ArticleLibrary</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ArticleListView</span>(articles: articleLibrary.articles)</span><br><span class="line">            .environmentObject(theme)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ArticleView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">Environment</span>(\.theme) <span class="keyword">var</span> theme: <span class="type">Theme</span></span><br><span class="line">    <span class="keyword">var</span> article: <span class="type">Article</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">            <span class="type">Text</span>(article.title)</span><br><span class="line">                .foregroundColor(theme.titleTextColor)</span><br><span class="line">            <span class="type">Text</span>(article.body)</span><br><span class="line">                .foregroundColor(theme.bodyTextColor)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å­¦ä¹ combine æ•°æ®ç®¡ç†ï¼Œéœ€è¦å…ˆå­¦ä¹ å±æ€§åŒ…è£…@PropertyWrapper&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/spa
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>SwiftUIåŸºç¡€ç»„ä»¶ç”¨æ³•</title>
    <link href="http://tttyyyzzz2020.ghthub.io/2020/08/17/SwiftUI-BaseComponentUse/"/>
    <id>http://tttyyyzzz2020.ghthub.io/2020/08/17/SwiftUI-BaseComponentUse/</id>
    <published>2020-08-17T03:56:39.000Z</published>
    <updated>2020-08-30T02:53:36.571Z</updated>
    
    <content type="html"><![CDATA[<h2 id="SwiftUIåŸºç¡€ç»„ä»¶ç”¨æ³•"><a href="#SwiftUIåŸºç¡€ç»„ä»¶ç”¨æ³•" class="headerlink" title="SwiftUIåŸºç¡€ç»„ä»¶ç”¨æ³•"></a>SwiftUIåŸºç¡€ç»„ä»¶ç”¨æ³•</h2><h3 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Text</span>(<span class="string">"Hello World"</span>)</span><br><span class="line"></span><br><span class="line"><span class="type">Text</span>(<span class="string">"Hello, \(Image(systemName: "</span>globe<span class="string">"))!"</span>).font(<span class="type">Font</span>.title.weight(.bold))</span><br></pre></td></tr></table></figure><h3 id="Label"><a href="#Label" class="headerlink" title="Label"></a>Label</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Label</span>(<span class="string">"Swift"</span>, image: <span class="string">"swift"</span>)</span><br><span class="line"><span class="type">Label</span>(<span class="string">"Website"</span>, systemImage: <span class="string">"globe"</span>)</span><br></pre></td></tr></table></figure><h3 id="TextField"><a href="#TextField" class="headerlink" title="TextField"></a>TextField</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="type">State</span> <span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">"John"</span>    </span><br><span class="line"><span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">TextField</span>(<span class="string">"Name's placeholder"</span>, text: $name)</span><br><span class="line">        .textFieldStyle(<span class="type">RoundedBorderTextFieldStyle</span>())</span><br><span class="line">        .padding()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="TextEditor"><a href="#TextEditor" class="headerlink" title="TextEditor"></a>TextEditor</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@<span class="type">State</span> <span class="keyword">private</span> <span class="keyword">var</span> fullText: <span class="type">String</span> = <span class="string">"This is some editable text..."</span></span><br><span class="line"><span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">TextEditor</span>(text: $fullText)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="SecureField"><a href="#SecureField" class="headerlink" title="SecureField"></a>SecureField</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="type">State</span> <span class="keyword">var</span> password: <span class="type">String</span> = <span class="string">"1234"</span>    </span><br><span class="line"><span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">SecureField</span>($password)</span><br><span class="line">        .textFieldStyle(<span class="type">RoundedBorderTextFieldStyle</span>())</span><br><span class="line">        .padding()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Image</span>(<span class="string">"foo"</span>)</span><br></pre></td></tr></table></figure><h3 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Button</span>(</span><br><span class="line">    action: &#123;</span><br><span class="line">        <span class="comment">// did tap</span></span><br><span class="line">    &#125;,</span><br><span class="line">    label: &#123; <span class="type">Text</span>(<span class="string">"Click Me"</span>) &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="Link"><a href="#Link" class="headerlink" title="Link"></a>Link</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Link</span>(<span class="string">"View Our Terms of Service"</span>, destination: <span class="type">URL</span>(string: <span class="string">"https://www.example.com/TOS.html"</span>)!)</span><br></pre></td></tr></table></figure><h3 id="NavigationLink"><a href="#NavigationLink" class="headerlink" title="NavigationLink"></a>NavigationLink</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NavigationView</span> &#123;</span><br><span class="line">    <span class="type">NavigationLink</span>(destination: <span class="type">DetailView</span>()) &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">"Push"</span>)</span><br><span class="line">    &#125;.navigationBarTitle(<span class="type">Text</span>(<span class="string">"Master"</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ToolbarItem"><a href="#ToolbarItem" class="headerlink" title="ToolbarItem"></a>ToolbarItem</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NavigationView</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">"SwiftUI"</span>).padding()</span><br><span class="line">        .toolbar &#123;</span><br><span class="line">            <span class="type">ToolbarItem</span>(placement: .principal) &#123;</span><br><span class="line">                <span class="type">VStack</span> &#123;</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">"Title"</span>)</span><br><span class="line">                    <span class="type">Button</span>(<span class="string">"Clickable Subtitle"</span>) &#123; <span class="built_in">print</span>(<span class="string">"principle"</span>) &#125;                    </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Toggle"><a href="#Toggle" class="headerlink" title="Toggle"></a>Toggle</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@<span class="type">State</span> <span class="keyword">var</span> isShowing = <span class="literal">true</span> <span class="comment">// toggle state</span></span><br><span class="line"></span><br><span class="line"><span class="type">Toggle</span>(isOn: $isShowing) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">"Hello World"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Picker"><a href="#Picker" class="headerlink" title="Picker"></a>Picker</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NavigationView</span> &#123;</span><br><span class="line">    <span class="type">Form</span> &#123;</span><br><span class="line">        <span class="type">Section</span> &#123;</span><br><span class="line">            <span class="type">Picker</span>(selection: $selection, label:</span><br><span class="line">                <span class="type">Text</span>(<span class="string">"Picker Name"</span>)</span><br><span class="line">                , content: &#123;</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">"Value 1"</span>).tag(<span class="number">0</span>)</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">"Value 2"</span>).tag(<span class="number">1</span>)</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">"Value 3"</span>).tag(<span class="number">2</span>)</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">"Value 4"</span>).tag(<span class="number">3</span>)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="DatePicker"><a href="#DatePicker" class="headerlink" title="DatePicker"></a>DatePicker</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">@<span class="type">State</span> <span class="keyword">var</span> selectedDate = <span class="type">Date</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> dateClosedRange: <span class="type">ClosedRange</span>&lt;<span class="type">Date</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="built_in">min</span> = <span class="type">Calendar</span>.current.date(byAdding: .day, value: -<span class="number">1</span>, to: <span class="type">Date</span>())!</span><br><span class="line">    <span class="keyword">let</span> <span class="built_in">max</span> = <span class="type">Calendar</span>.current.date(byAdding: .day, value: <span class="number">1</span>, to: <span class="type">Date</span>())!</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">min</span>...<span class="built_in">max</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">NavigationView</span> &#123;</span><br><span class="line">    <span class="type">Form</span> &#123;</span><br><span class="line">        <span class="type">Section</span> &#123;</span><br><span class="line">            <span class="type">DatePicker</span>(</span><br><span class="line">                selection: $selectedDate,</span><br><span class="line">                <span class="keyword">in</span>: dateClosedRange,</span><br><span class="line">                displayedComponents: .date,</span><br><span class="line">                label: &#123; <span class="type">Text</span>(<span class="string">"Due Date"</span>) &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ProgressView"><a href="#ProgressView" class="headerlink" title="ProgressView"></a>ProgressView</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="type">State</span> <span class="keyword">private</span> <span class="keyword">var</span> progress = <span class="number">0.5</span></span><br><span class="line"></span><br><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">    <span class="type">ProgressView</span>(value: progress)</span><br><span class="line">    <span class="type">Button</span>(<span class="string">"More"</span>, action: &#123; progress += <span class="number">0.05</span> &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Slider"><a href="#Slider" class="headerlink" title="Slider"></a>Slider</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@<span class="type">State</span> <span class="keyword">var</span> progress: <span class="type">Float</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="type">Slider</span>(value: $progress, from: <span class="number">0.0</span>, through: <span class="number">100.0</span>, by: <span class="number">5.0</span>)  <span class="type">Button</span>(<span class="string">"More"</span>, action: &#123; progress += <span class="number">0.05</span> &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Stepper"><a href="#Stepper" class="headerlink" title="Stepper"></a>Stepper</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@<span class="type">State</span> <span class="keyword">var</span> quantity: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line"><span class="type">Stepper</span>(value: $quantity, <span class="keyword">in</span>: <span class="number">0</span>...<span class="number">10</span>, label: &#123; <span class="type">Text</span>(<span class="string">"Quantity \(quantity)"</span>)&#125;)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;SwiftUIåŸºç¡€ç»„ä»¶ç”¨æ³•&quot;&gt;&lt;a href=&quot;#SwiftUIåŸºç¡€ç»„ä»¶ç”¨æ³•&quot; class=&quot;headerlink&quot; title=&quot;SwiftUIåŸºç¡€ç»„ä»¶ç”¨æ³•&quot;&gt;&lt;/a&gt;SwiftUIåŸºç¡€ç»„ä»¶ç”¨æ³•&lt;/h2&gt;&lt;h3 id=&quot;Text&quot;&gt;&lt;a href=&quot;#Text&quot;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•åˆ›å»ºWidgetå°ç‰©ä»¶</title>
    <link href="http://tttyyyzzz2020.ghthub.io/2020/08/14/SwiftUI-Widget/"/>
    <id>http://tttyyyzzz2020.ghthub.io/2020/08/14/SwiftUI-Widget/</id>
    <published>2020-08-14T10:06:37.000Z</published>
    <updated>2020-08-30T02:55:27.741Z</updated>
    
    <content type="html"><![CDATA[<h3 id="widget-èŒƒä¾‹åˆ›å»ºæ­¥éª¤"><a href="#widget-èŒƒä¾‹åˆ›å»ºæ­¥éª¤" class="headerlink" title="widget èŒƒä¾‹åˆ›å»ºæ­¥éª¤"></a>widget èŒƒä¾‹åˆ›å»ºæ­¥éª¤</h3><ol><li>æ·»åŠ target widgetå·¥ç¨‹</li><li>åˆ›å»ºsharedæ–‡ä»¶å¤¹å…±äº«æ•°æ®ï¼ˆæ¨¡å‹ï¼Œè§†å›¾ï¼Œapiç­‰ï¼‰è®¾ç½®membership</li><li>äº†è§£widgité…ç½®ç»“æ„ï¼ˆconfigurationï¼Œproviderï¼Œsnashotï¼Œtimeline, viewContentï¼‰</li><li>åˆ›å»ºTimeline Entry å®ä¾‹ï¼Œå‡†å¤‡è¦è§‚æµ‹æ•°æ®</li><li>åˆ›å»ºTimeline Provider æœåŠ¡ï¼Œapiè·å–æ•°æ®ï¼Œå®ç°snapshot, timelineæ–¹æ³•</li><li>åˆ›å»º Widgetè¦å±•ç°çš„viewè§†å›¾, é€‚é…ä¸åŒå°ºå¯¸(systemSmall, systemMedium, systemlarge)çš„widget</li><li>åœ¨å…¥å£å¤„ç»Ÿä¸€é…ç½®</li></ol><h3 id="WidgetåŒ…å«å“ªäº›å†…å®¹ï¼š"><a href="#WidgetåŒ…å«å“ªäº›å†…å®¹ï¼š" class="headerlink" title="WidgetåŒ…å«å“ªäº›å†…å®¹ï¼š"></a>WidgetåŒ…å«å“ªäº›å†…å®¹ï¼š</h3><blockquote><ul><li>è¦åˆ›å»ºä¸€ä¸ª Widget å°ç‰©ä»¶ï¼Œä¸»è¦é€šè¿‡é…ç½®å¯¹è±¡StaticConfiguration å®Œæˆ</li><li>è¯¥å¯¹è±¡æœ‰ä¸¤ä¸ªé‡è¦çš„å‚æ•°Provider  å’Œ Content</li><li>Providerä¸»è¦ç”¨äºç®¡ç†å°ç‰©ä»¶çš„å®æ—¶çŠ¶æ€æ•°æ®ã€‚Contentæ˜¯å±•ç¤ºçš„è§†å›¾view</li><li>Providerä¸­éœ€è¦å®ç°2ä¸ªéå¸¸é‡è¦çš„æ–¹æ³•snapshotå’Œtimelineï¼Œ ä»–ä»¬æ˜¯å°ç‰©ä»¶çš„å¿«ç…§ï¼Œå’Œæ—¶é—´çº¿å˜åŒ–é…ç½®</li><li>Providerçš„è¿˜éœ€è¦é…ç½®widgetçš„æ•°æ® Timeline Entry</li><li>åœ¨æ‰€æœ‰å¯¹è±¡å‡†å¤‡å¥½åï¼Œåœ¨å…¥å£ç»Ÿä¸€é…ç½®å³å¯</li></ul></blockquote><p>ç»“æ„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Widget</span><br><span class="line">Configuration</span><br><span class="line">Provider                 &#x2F;&#x2F; æ—¶é—´çº¿æœåŠ¡è€…ï¼Œ æ ¹æ®æ—¶é—´è°ƒç”¨timelineEntry å®ä¾‹æ›´æ–°ï¼Œå¯ä»¥å®šä¹‰è°ƒç”¨é¢‘ç‡</span><br><span class="line">snapshot             &#x2F;&#x2F; å¿«ç…§</span><br><span class="line">Timeline entry       &#x2F;&#x2F; æ—¶é—´çº¿å®ä¾‹ï¼Œæ ¹æ®æ—¶é—´çš„å˜åŒ–è·å–Timeline Entry çš„æ•°æ®</span><br><span class="line">ViewContent              &#x2F;&#x2F; å±•ç¤ºçš„è§†å›¾</span><br></pre></td></tr></table></figure><blockquote><p>çœç•¥sharedå…±äº«çš„æ–‡ä»¶</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çœç•¥äº†apiè·å–ç­‰ä»£ç </span></span><br><span class="line"><span class="comment">// çœç•¥äº†Modelå¯¹è±¡ä»£ç </span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TotalCaseCount</span> </span>&#123; &#125;</span><br></pre></td></tr></table></figure><ol><li>TimelineEntry æ—¶é—´çº¿æ•°æ®å®ä¾‹</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"><span class="keyword">import</span> WidgetKit</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ—¶é—´çº¿å…¥å£å®ä¾‹</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TotalCaseEntry</span>: <span class="title">TimelineEntry</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// widgitæ—¶é—´</span></span><br><span class="line">    <span class="keyword">var</span> date: <span class="type">Date</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¦å±•ç¤ºçš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">let</span> totalCount: <span class="type">TotalCaseCount</span></span><br><span class="line">    <span class="keyword">var</span> isPlaceholder = <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰©å±•æ¨¡æ‹Ÿæ•°æ®</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">TotalCaseEntry</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> stub: <span class="type">TotalCaseEntry</span> &#123;</span><br><span class="line">        <span class="type">TotalCaseEntry</span>(date: <span class="type">Date</span>(), totalCount: .<span class="keyword">init</span>(title: <span class="string">"Global"</span>, confirmed: <span class="number">200</span>, death: <span class="number">10</span>, recovered: <span class="number">100</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> placeholder: <span class="type">TotalCaseEntry</span> &#123;</span><br><span class="line">        <span class="type">TotalCaseEntry</span>(date: <span class="type">Date</span>(), totalCount: .<span class="keyword">init</span>(title: <span class="string">"----"</span>, confirmed: <span class="number">0</span>, death: <span class="number">0</span>, recovered: <span class="number">0</span>), isPlaceholder: <span class="literal">true</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.TimelineProvider æ•°æ®è°ƒåº¦æœåŠ¡</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"><span class="keyword">import</span> WidgetKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">GlobalTotalStatsTimeProvider</span>: <span class="title">TimelineProvider</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ—¶é—´çº¿æ•°æ®å®ä¾‹</span></span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">Entry</span> = <span class="type">TotalCaseEntry</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è·å–æ•°æ®çš„å•ä¾‹å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">let</span> service = <span class="type">Covid19APIService</span>.shared    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é¢„è§ˆå ä½widget</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">placeholder</span><span class="params">(with: Context)</span></span> -&gt; <span class="type">TotalCaseEntry</span> &#123;</span><br><span class="line">        <span class="type">TotalCaseEntry</span>.placeholder</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¿«ç…§é…ç½®</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">snapshot</span><span class="params">(with context: Context, completion: @escaping <span class="params">(TotalCaseEntry)</span></span></span> -&gt; ()) &#123;</span><br><span class="line">        <span class="keyword">if</span> context.isPreview &#123;</span><br><span class="line">            completion(<span class="type">TotalCaseEntry</span>.placeholder)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            fetchTotalCaseStats &#123; (result) <span class="keyword">in</span></span><br><span class="line">                <span class="keyword">switch</span> result &#123;</span><br><span class="line">                <span class="keyword">case</span> .success(<span class="keyword">let</span> entry):</span><br><span class="line">                    completion(entry)</span><br><span class="line">                <span class="keyword">case</span> .failure(<span class="number">_</span>):</span><br><span class="line">                    completion(<span class="type">TotalCaseEntry</span>.placeholder)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ—¶é—´çº¿è§‚æµ‹</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">timeline</span><span class="params">(with context: Context, completion: @escaping <span class="params">(Timeline&lt;TotalCaseEntry&gt;)</span></span></span> -&gt; ()) &#123;</span><br><span class="line">        fetchTotalCaseStats &#123; (result) <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">switch</span> result &#123;</span><br><span class="line">            <span class="keyword">case</span> .success(<span class="keyword">let</span> entry):</span><br><span class="line">                <span class="keyword">let</span> timeline = <span class="type">Timeline</span>(entries: [entry], policy: .after(<span class="type">Date</span>().addingTimeInterval(<span class="number">60</span> * <span class="number">10</span>)))</span><br><span class="line">                completion(timeline)</span><br><span class="line">            <span class="keyword">case</span> .failure(<span class="number">_</span>):</span><br><span class="line">                <span class="keyword">let</span> timeline = <span class="type">Timeline</span>(entries: [<span class="type">TotalCaseEntry</span>.placeholder], policy: .after(<span class="type">Date</span>().addingTimeInterval(<span class="number">60</span> * <span class="number">2</span>)))</span><br><span class="line">                completion(timeline)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// apiè·å–æ•°æ®</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">fetchTotalCaseStats</span><span class="params">(completion: @escaping <span class="params">(Result&lt;TotalCaseEntry, Error&gt;)</span></span></span> -&gt; ()) &#123;</span><br><span class="line">        service.getGlobalTotalCount &#123; (result) <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">switch</span> result &#123;</span><br><span class="line">            <span class="keyword">case</span> .success(<span class="keyword">let</span> stats):</span><br><span class="line">                <span class="keyword">let</span> entry = <span class="type">TotalCaseEntry</span>(date: <span class="type">Date</span>(), totalCount: .<span class="keyword">init</span>(title: <span class="string">"ğŸŒ"</span>, confirmed: stats.totalConfirmed, death: stats.totalDeaths, recovered: stats.totalRecovered))</span><br><span class="line">                completion(.success(entry))</span><br><span class="line">            <span class="keyword">case</span> .failure(<span class="keyword">let</span> error):</span><br><span class="line">                completion(.failure(error))</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>StatsWidgetSmall å°å°ºå¯¸widgetè§†å›¾ï¼Œ å…¶ä»–å°ºå¯¸è§†å›¾æ–‡ä»¶çœç•¥</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"><span class="keyword">import</span> WidgetKit</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°å°ºå¯¸widgetè§†å›¾</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">StatsWidgetSmall</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ•°æ®å®ä¾‹</span></span><br><span class="line">    <span class="keyword">let</span> entry: <span class="type">TotalCaseEntry</span></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span>(spacing: <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">TitleDataHeader</span>(title: entry.totalCount.title, date: entry.date)</span><br><span class="line">                .padding(.vertical, <span class="number">4</span>)</span><br><span class="line">                .padding(.horizontal)</span><br><span class="line">            <span class="type">CaseStatView</span>(text: <span class="string">"Confirmed"</span>, totalCountText: entry.totalCount.confirmedText, color: confirmedColor)</span><br><span class="line">            <span class="type">CaseStatView</span>(text: <span class="string">"Death"</span>, totalCountText: entry.totalCount.deathText, color: deathColor)</span><br><span class="line">            <span class="type">CaseStatView</span>(text: <span class="string">"Recovered"</span>, totalCountText: entry.totalCount.recoveredText, color: recoveredColor)</span><br><span class="line">            <span class="type">CaseStatView</span>(text: <span class="string">"Sick"</span>, totalCountText: entry.totalCount.sickText, color: sickColor)</span><br><span class="line">        &#125;</span><br><span class="line">        .redacted(reason: entry.isPlaceholder ? .placeholder: .<span class="keyword">init</span>())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">StatsWidgetSmall_Previews</span>: <span class="title">PreviewProvider</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="comment">// widgetæ–¹å¼é¢„è§ˆè§†å›¾</span></span><br><span class="line">        <span class="type">StatsWidgetSmall</span>(entry: <span class="type">TotalCaseEntry</span>.placeholder)</span><br><span class="line">            .previewContext(<span class="type">WidgetPreviewContext</span>(family: .systemSmall))</span><br><span class="line">            </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// çœç•¥äº†TitleDataHeader</span></span><br><span class="line"><span class="comment">// çœç•¥äº†CaseStatView</span></span><br><span class="line"><span class="comment">// widget çš„å°ºå¯¸æœ‰3ä¸­ï¼š .systemSmall .systemMedium .systemLarge</span></span><br></pre></td></tr></table></figure><ol start="4"><li>Widgetå·¥ç¨‹å…¥å£é…ç½®</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> WidgetKit</span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line">@main</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Covid19StatsWidget</span>: <span class="title">Widget</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> kind: <span class="type">String</span> = <span class="string">"Covid19StatsWidget"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// é…ç½®WidgetConfigurationï¼Œ æ³¨å…¥Providerï¼Œ å’Œ View</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> body: some <span class="type">WidgetConfiguration</span> &#123;</span><br><span class="line">        <span class="type">StaticConfiguration</span>(kind: kind, provider: <span class="type">GlobalTotalStatsTimeProvider</span>()) &#123; entry <span class="keyword">in</span></span><br><span class="line">            <span class="type">StatsWidgetEntryView</span>(entry: entry)</span><br><span class="line">        &#125;</span><br><span class="line">        .configurationDisplayName(<span class="string">"My Covid19-stats"</span>)</span><br><span class="line">        .description(<span class="string">"SHow latest global lifetime stats"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Covid19StatsWidget_Previews</span>: <span class="title">PreviewProvider</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">StatsWidgetEntryView</span>(entry: <span class="type">TotalCaseEntry</span>.stub)</span><br><span class="line">            .previewContext(<span class="type">WidgetPreviewContext</span>(family: .systemSmall))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å­¦ä¹ é“¾æ¥ï¼š</span><br><span class="line">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v&#x3D;5gj0OzknhMw&amp;t&#x3D;1820s</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;widget-èŒƒä¾‹åˆ›å»ºæ­¥éª¤&quot;&gt;&lt;a href=&quot;#widget-èŒƒä¾‹åˆ›å»ºæ­¥éª¤&quot; class=&quot;headerlink&quot; title=&quot;widget èŒƒä¾‹åˆ›å»ºæ­¥éª¤&quot;&gt;&lt;/a&gt;widget èŒƒä¾‹åˆ›å»ºæ­¥éª¤&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;æ·»åŠ target widgetå·¥ç¨‹&lt;/l
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>ä¿®é¥°ç¬¦ matchedGeometryEffect ä½¿ç”¨è¦ç‚¹</title>
    <link href="http://tttyyyzzz2020.ghthub.io/2020/08/10/SwiftUI-matchedGeometryEffect/"/>
    <id>http://tttyyyzzz2020.ghthub.io/2020/08/10/SwiftUI-matchedGeometryEffect/</id>
    <published>2020-08-10T15:20:32.000Z</published>
    <updated>2020-08-30T02:54:55.970Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>matchedGeometryEffect æ˜¯SwiftUI ç¬¬2ç‰ˆä¸­ä¸€ä¸ªä¿®é¥°ç¬¦ï¼Œå®ƒå¯ä»¥ä½¿å¤šä¸ªå…ƒç´ è¿›è¡Œï¼Œä½ç½®ï¼Œå¤§å°ï¼Œç­‰å±æ€§è¿›è¡ŒåŠ¨ç”»åŒ¹é…</p></blockquote><h2 id="matchedGeometryEffect-çš„å‚æ•°è¯´æ˜"><a href="#matchedGeometryEffect-çš„å‚æ•°è¯´æ˜" class="headerlink" title="matchedGeometryEffect çš„å‚æ•°è¯´æ˜"></a>matchedGeometryEffect çš„å‚æ•°è¯´æ˜</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// å‚æ•°ä»‹ç»ï¼š</span></span><br><span class="line"><span class="comment">// id:  åŒ¹é…çš„id</span></span><br><span class="line"><span class="comment">// in:  Namespace.ID  ç©ºé—´</span></span><br><span class="line"><span class="comment">// properties: è¦åŒ¹é…çš„å±æ€§</span></span><br><span class="line"><span class="comment">// anchorï¼š è¦å¯¹é½é”šç‚¹ï¼Œé»˜è®¤center</span></span><br><span class="line"><span class="comment">// isSource:  æ˜¯å¦ä¸ºåŒ¹é…æºï¼Œé»˜è®¤ä¸ºtrue</span></span><br><span class="line">                    </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">matchedGeometryEffect</span>&lt;ID&gt;<span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">    id: ID, </span></span></span><br><span class="line"><span class="function"><span class="params">    <span class="keyword">in</span> namespace: Namespace.ID, </span></span></span><br><span class="line"><span class="function"><span class="params">    properties: MatchedGeometryProperties = .frame, </span></span></span><br><span class="line"><span class="function"><span class="params">    anchor: UnitPoint = .center, </span></span></span><br><span class="line"><span class="function"><span class="params">    isSource: Bool = <span class="literal">true</span>)</span></span> -&gt; some <span class="type">View</span> <span class="keyword">where</span> <span class="type">ID</span> : <span class="type">Hashable</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»å…¸å°ä¾‹å­</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ExampleView2</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">Namespace</span> <span class="keyword">var</span> nspace</span><br><span class="line">    @<span class="type">State</span> <span class="keyword">private</span> <span class="keyword">var</span> flag: <span class="type">Bool</span> = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">HStack</span>&#123;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// æ·¡å‡ºçš„å…ƒç´ ï¼šä¼šä»æœ¬èº«ï¼ˆgreenæ­£æ–¹ï¼‰ä½ç½®æ‰§è¡ŒframeåŠ¨ç”», </span></span><br><span class="line">            <span class="comment">// åŒ¹é…ç›®æ ‡ï¼ˆblueåœ†ï¼‰ä½ç½®ï¼Œå¹¶é€æ­¥æ‰§è¡Œæ·¡å‡ºåŠ¨ç”»</span></span><br><span class="line">            <span class="keyword">if</span> flag &#123;</span><br><span class="line">                <span class="type">Rectangle</span>()</span><br><span class="line">                    .fill(<span class="type">Color</span>.green)</span><br><span class="line">                    .matchedGeometryEffect(id: <span class="string">"geoeffect1"</span>, <span class="keyword">in</span>: nspace)</span><br><span class="line">                    .frame(width: <span class="number">100</span>, height: <span class="number">100</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Spacer</span>()</span><br><span class="line">            <span class="type">Button</span>(<span class="string">"Switch"</span>)&#123;</span><br><span class="line">                withAnimation(.easeInOut(duration: <span class="number">1</span>))&#123;</span><br><span class="line">                    flag.toggle()</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Spacer</span>()</span><br><span class="line">            <span class="comment">// æ·¡å…¥çš„å…ƒç´ ï¼š ä¼šæŠŠç›®æ ‡ä½ç½®çš„å…ƒç´ ï¼ˆblueåœ†ï¼‰æ‹·è´åˆ°èµ·å§‹è¦æ·¡å‡ºçš„ï¼ˆgreenæ­£æ–¹ï¼‰ä½ç½®ï¼Œ</span></span><br><span class="line">            <span class="comment">// ç„¶åæ‰§è¡Œ frame æ·¡å…¥åŠ¨ç”»</span></span><br><span class="line">            <span class="keyword">if</span> !flag&#123;</span><br><span class="line">                <span class="type">Circle</span>()</span><br><span class="line">                    .fill(<span class="type">Color</span>.blue)</span><br><span class="line">                    .matchedGeometryEffect(id: <span class="string">"geoeffect1"</span>, <span class="keyword">in</span>: nspace)</span><br><span class="line">                    .frame(width: <span class="number">50</span>, height: <span class="number">50</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .frame(width: <span class="number">400</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">æ­¤ä¾‹å­ï¼š å½“åŒ¹é…åŒæ–¹çš„isSouceæœªè®¾ç½®åˆ™é»˜è®¤éƒ½ä¸ºtrueæ—¶å€™ï¼š</span></span><br><span class="line"><span class="comment">1. ä¼ å…¥çš„è§†å›¾ï¼Œä½¿ç”¨ä¼ å‡ºè§†å›¾çš„å‡ ä½•å›¾å½¢ä½œä¸ºè¿‡æ¸¡çš„èµ·å§‹å¤§å°å’Œä½ç½®     ï¼ˆç‚¹å‡»æ—¶ï¼Œæ‹·è´ è“è‰²åœ†å½¢ åˆ° ç»¿æ­£æ–¹å½¢ä½ç½®ï¼Œ å¹¶æ·¡å…¥ï¼‰</span></span><br><span class="line"><span class="comment">2. ä¼ å‡ºçš„è§†å›¾ï¼Œä½¿ç”¨ä¼ å…¥è§†å›¾çš„å‡ ä½•å›¾å½¢ä½œä¸ºè¿‡æ¸¡çš„æœ€ç»ˆå¤§å°å’Œä½ç½®     ï¼ˆç‚¹å‡»æ—¶ï¼Œä» ç»¿æ–¹å½¢ è¿åŠ¨å˜åŒ–è‡³ è“è‰²åœ† å½¢ï¼Œå¹¶æ·¡å‡ºï¼‰</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–-properties-å’Œ-anchorï¼Œ-isSource-å‚æ•°"><a href="#å…¶ä»–-properties-å’Œ-anchorï¼Œ-isSource-å‚æ•°" class="headerlink" title="å…¶ä»– properties å’Œ anchorï¼Œ isSource å‚æ•°"></a>å…¶ä»– properties å’Œ anchorï¼Œ isSource å‚æ•°</h2><blockquote><p>æ —å­2ï¼š matchedGeometryEffectä¿®é¥°ç¬¦ï¼Œåœ¨åŒ¹é…æ—¶å€™é»˜è®¤é‡‡ç”¨frame æ–¹å¼ center å¯¹é½ã€‚æ­¤ä¾‹å­æˆ‘ä»¬å°†å¯¹å‚æ•°æ›´æ”¹ï¼Œç†è§£å®ƒå„è‡ªä½œç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ExampleView5</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">Namespace</span> <span class="keyword">var</span> ns</span><br><span class="line">    @<span class="type">State</span> <span class="keyword">var</span> matched: <span class="type">Bool</span> = <span class="literal">false</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span>(spacing: <span class="number">50</span>) &#123;</span><br><span class="line">            <span class="type">HStack</span>(spacing: <span class="number">30</span>) &#123;</span><br><span class="line">                <span class="type">Triangle</span>(.down, .blue)</span><br><span class="line">                    .matchedGeometryEffect(id: matched ? <span class="string">"id1"</span> : <span class="string">"a"</span>, <span class="keyword">in</span>: ns)</span><br><span class="line">                    .frame(width: <span class="number">150</span>, height: <span class="number">150</span>)</span><br><span class="line">                    .border(<span class="type">Color</span>.gray)</span><br><span class="line">                </span><br><span class="line">                <span class="type">Triangle</span>(.<span class="keyword">right</span>, .green)</span><br><span class="line">                    <span class="comment">// isSouce å‚æ•° æœ¬ä¾‹å­è®¾ä¸ºfalseï¼Œè¡¨ç¤ºè¯¥å…ƒç´ çš„ä½ç½®ï¼Œå¤§å°ä¿¡æ¯ï¼Œä¸ä¼šè¢«å¦ä¸€æ–¹åŒ¹é…å€Ÿç”¨</span></span><br><span class="line">                    <span class="comment">// .matchedGeometryEffect(id: matched ? "id1" : "", in: ns, isSource: false)</span></span><br><span class="line">                    </span><br><span class="line">                    <span class="comment">// properties å‚æ•°: æœ¬ä¾‹å­æ˜¯ åŒ¹é… ç›®æ ‡å…ƒç´ çš„ size å¤§å°ï¼Œ æ‰€ä»¥ä½ç½®ä¸ä¼šæ”¹å˜</span></span><br><span class="line">                    <span class="comment">// .matchedGeometryEffect(id: matched ? "id1" : "", in: ns, properties: .size, isSource: false)</span></span><br><span class="line">                    </span><br><span class="line">                    <span class="comment">// anchor å‚æ•°ï¼š æœ¬ä¾‹å­æ˜¯ç”¨.topLeading å¯¹é½ï¼Œç›®æ ‡å…ƒç´ çš„.center</span></span><br><span class="line">                    .matchedGeometryEffect(id:matched ? <span class="string">"id1"</span> : <span class="string">""</span>, <span class="keyword">in</span>: ns, anchor: .topLeading, isSource: <span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">                    .frame(width: <span class="number">75</span>, height: <span class="number">75</span>)</span><br><span class="line">                    .border(<span class="type">Color</span>.gray)</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Toggle</span>(isOn: $matched.animation(.easeInOut), label: &#123; <span class="type">Text</span>(<span class="string">"Matched"</span>) &#125;).frame(width: <span class="number">140</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¤šä¸ªç»„åˆï¼Œå¤šä¸ªè§†å›¾åŒ¹é…"><a href="#å¤šä¸ªç»„åˆï¼Œå¤šä¸ªè§†å›¾åŒ¹é…" class="headerlink" title="å¤šä¸ªç»„åˆï¼Œå¤šä¸ªè§†å›¾åŒ¹é…"></a>å¤šä¸ªç»„åˆï¼Œå¤šä¸ªè§†å›¾åŒ¹é…</h2><p>å°†å¤šä¸ªå…ƒç´ <code>Triangle</code>ç»„åˆåˆ°ä¸åŒçš„ï¼Œåˆ†ç»„<code>id</code>ä¸­</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ExampleView7</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">Namespace</span> <span class="keyword">var</span> ns</span><br><span class="line">    @<span class="type">State</span> <span class="keyword">private</span> <span class="keyword">var</span> matched = <span class="literal">false</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span>(spacing: <span class="number">50</span>) &#123;</span><br><span class="line">            <span class="type">HStack</span> &#123;</span><br><span class="line">                <span class="type">Triangle</span>(.down, .purple)</span><br><span class="line">                    .matchedGeometryEffect(id: <span class="string">"id1"</span>, <span class="keyword">in</span>: ns)</span><br><span class="line">                    .frame(width: <span class="number">100</span>, height: <span class="number">100</span>)</span><br><span class="line">                    .border(<span class="type">Color</span>.gray)</span><br><span class="line">                </span><br><span class="line">                <span class="type">Triangle</span>(.<span class="keyword">right</span>, .green)</span><br><span class="line">                    .matchedGeometryEffect(id: matched ? <span class="string">"id1"</span> : <span class="string">"unpair1"</span>, <span class="keyword">in</span>: ns, isSource: <span class="literal">false</span>)</span><br><span class="line">                    .frame(width: <span class="number">100</span>, height: <span class="number">100</span>)</span><br><span class="line">                    .border(<span class="type">Color</span>.gray)</span><br><span class="line">                </span><br><span class="line">                <span class="type">Triangle</span>(.up, .yellow)</span><br><span class="line">                    .matchedGeometryEffect(id: <span class="string">"id2"</span>, <span class="keyword">in</span>: ns)</span><br><span class="line">                    .frame(width: <span class="number">100</span>, height: <span class="number">100</span>)</span><br><span class="line">                    .border(<span class="type">Color</span>.gray)</span><br><span class="line">                </span><br><span class="line">                <span class="type">Triangle</span>(.<span class="keyword">left</span>, .red)</span><br><span class="line">                    .matchedGeometryEffect(id: matched ? <span class="string">"id2"</span> : <span class="string">"unpair2"</span>, <span class="keyword">in</span>: ns, isSource: <span class="literal">false</span>)</span><br><span class="line">                    .frame(width: <span class="number">100</span>, height: <span class="number">100</span>)</span><br><span class="line">                    .border(<span class="type">Color</span>.gray)</span><br><span class="line">                </span><br><span class="line">                <span class="type">Triangle</span>(.down, .orange)</span><br><span class="line">                    .matchedGeometryEffect(id: matched ? <span class="string">"id2"</span> : <span class="string">"unpair3"</span>, <span class="keyword">in</span>: ns, isSource: <span class="literal">false</span>)</span><br><span class="line">                    .frame(width: <span class="number">100</span>, height: <span class="number">100</span>)</span><br><span class="line">                    .border(<span class="type">Color</span>.gray)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">Toggle</span>(isOn: $matched.animation(.easeInOut), label: &#123; <span class="type">Text</span>(<span class="string">"Matched"</span>) &#125;).frame(width: <span class="number">140</span>)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/.io//08/10/SwiftUI-matchedGeometryEffect/01.jpg" class><h2 id="å¤šä¸ªç©ºé—´çš„åŒ¹é…"><a href="#å¤šä¸ªç©ºé—´çš„åŒ¹é…" class="headerlink" title="å¤šä¸ªç©ºé—´çš„åŒ¹é…"></a>å¤šä¸ªç©ºé—´çš„åŒ¹é…</h2><p>å°†å¤šä¸ªå…ƒç´ <code>Triangle</code>ç»„åˆåŒ¹é…ï¼Œåˆ°ä¸åŒçš„ç©ºé—´</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ExampleView8</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">Namespace</span> <span class="keyword">var</span> empty_namespace</span><br><span class="line">    @<span class="type">Namespace</span> <span class="keyword">var</span> namespace1</span><br><span class="line">    @<span class="type">Namespace</span> <span class="keyword">var</span> namespace2</span><br><span class="line">    @<span class="type">Namespace</span> <span class="keyword">var</span> namespace3</span><br><span class="line"></span><br><span class="line">    @<span class="type">State</span> <span class="keyword">private</span> <span class="keyword">var</span> namespaceInUse = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> colors: [<span class="type">Color</span>] = [.purple, .green, .yellow, .red]</span><br><span class="line">        <span class="keyword">let</span> direction: [<span class="type">Triangle</span>.<span class="type">Direction</span>] = [.up, .down, .<span class="keyword">left</span>, .<span class="keyword">right</span>]</span><br><span class="line">        </span><br><span class="line">        <span class="type">VStack</span>(spacing: <span class="number">30</span>) &#123;</span><br><span class="line">            <span class="type">HStack</span> &#123;</span><br><span class="line">                <span class="comment">// Namespace 1</span></span><br><span class="line">                <span class="type">Rectangle</span>().fill(<span class="type">Color</span>.green.opacity(<span class="number">0.2</span>)).frame(width: <span class="number">50</span>, height: <span class="number">50</span>)</span><br><span class="line">                    .matchedGeometryEffect(id: <span class="number">0</span>, <span class="keyword">in</span>: namespace1)</span><br><span class="line">                    .matchedGeometryEffect(id: <span class="number">1</span>, <span class="keyword">in</span>: namespace1)</span><br><span class="line">                </span><br><span class="line">                <span class="type">Rectangle</span>().fill(<span class="type">Color</span>.green.opacity(<span class="number">0.2</span>)).frame(width: <span class="number">50</span>, height: <span class="number">50</span>)</span><br><span class="line">                    .matchedGeometryEffect(id: <span class="number">2</span>, <span class="keyword">in</span>: namespace1)</span><br><span class="line">                    .matchedGeometryEffect(id: <span class="number">3</span>, <span class="keyword">in</span>: namespace1)</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// Namespace 2</span></span><br><span class="line">                <span class="type">Rectangle</span>().fill(<span class="type">Color</span>.blue.opacity(<span class="number">0.2</span>)).frame(width: <span class="number">50</span>, height: <span class="number">50</span>)</span><br><span class="line">                    .matchedGeometryEffect(id: <span class="number">0</span>, <span class="keyword">in</span>: namespace2)</span><br><span class="line">                    .matchedGeometryEffect(id: <span class="number">2</span>, <span class="keyword">in</span>: namespace2)</span><br><span class="line"></span><br><span class="line">                <span class="type">Rectangle</span>().fill(<span class="type">Color</span>.blue.opacity(<span class="number">0.2</span>)).frame(width: <span class="number">50</span>, height: <span class="number">50</span>)</span><br><span class="line">                    .matchedGeometryEffect(id: <span class="number">1</span>, <span class="keyword">in</span>: namespace2)</span><br><span class="line">                    .matchedGeometryEffect(id: <span class="number">3</span>, <span class="keyword">in</span>: namespace2)</span><br><span class="line"></span><br><span class="line">                <span class="comment">// Namespace 3</span></span><br><span class="line">                <span class="type">Rectangle</span>().fill(<span class="type">Color</span>.red.opacity(<span class="number">0.2</span>)).frame(width: <span class="number">50</span>, height: <span class="number">50</span>)</span><br><span class="line">                    .matchedGeometryEffect(id: <span class="number">0</span>, <span class="keyword">in</span>: namespace3)</span><br><span class="line">                    .matchedGeometryEffect(id: <span class="number">1</span>, <span class="keyword">in</span>: namespace3)</span><br><span class="line">                    .matchedGeometryEffect(id: <span class="number">2</span>, <span class="keyword">in</span>: namespace3)</span><br><span class="line">                    .matchedGeometryEffect(id: <span class="number">3</span>, <span class="keyword">in</span>: namespace3)</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="type">HStack</span> &#123;</span><br><span class="line">                <span class="type">ForEach</span>(<span class="number">0</span>..&lt;<span class="number">4</span>) &#123; idx <span class="keyword">in</span></span><br><span class="line">                    <span class="type">Triangle</span>(direction[idx], colors[idx])</span><br><span class="line">                        .matchedGeometryEffect(id: idx, <span class="keyword">in</span>: activeNamespace(), isSource: <span class="literal">false</span>)</span><br><span class="line">                        .frame(width: <span class="number">50</span>, height: <span class="number">50</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="type">HStack</span>(spacing: <span class="number">30</span>) &#123;</span><br><span class="line">                <span class="type">Button</span>(<span class="string">"Match namespace1"</span>) &#123; withAnimation &#123; namespaceInUse = <span class="number">1</span> &#125;&#125;</span><br><span class="line">                <span class="type">Button</span>(<span class="string">"Match namespace2"</span>) &#123; withAnimation &#123; namespaceInUse = <span class="number">2</span> &#125;&#125;</span><br><span class="line">                <span class="type">Button</span>(<span class="string">"Match namespace3"</span>) &#123; withAnimation &#123; namespaceInUse = <span class="number">3</span> &#125;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Button</span>(<span class="string">"Unmatch"</span>) &#123; withAnimation &#123; namespaceInUse = <span class="number">0</span> &#125;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">activeNamespace</span><span class="params">()</span></span> -&gt; <span class="type">Namespace</span>.<span class="type">ID</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> namespaceInUse == <span class="number">1</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> namespace1</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> namespaceInUse == <span class="number">2</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> namespace2</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> namespaceInUse == <span class="number">3</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> namespace3</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> empty_namespace</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="/.io//08/10/SwiftUI-matchedGeometryEffect/02.jpg" class><blockquote><p>é™„ä»¶ï¼šæ¡ˆä¾‹ä¸­ç”¨åˆ°çš„<code>Triangle</code></p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Triangle</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> direction: <span class="type">Direction</span></span><br><span class="line">    <span class="keyword">let</span> color: <span class="type">Color</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(<span class="number">_</span> direction: <span class="type">Direction</span> = .down, <span class="number">_</span> color: <span class="type">Color</span> = .black) &#123;</span><br><span class="line">        <span class="keyword">self</span>.direction = direction</span><br><span class="line">        <span class="keyword">self</span>.color = color</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">TriangleShape</span>()</span><br><span class="line">            .fill(color)</span><br><span class="line">            .border(<span class="type">Color</span>.black)</span><br><span class="line">            .rotationEffect(<span class="type">Angle</span>.degrees(direction.rawValue))</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">TriangleShape</span>: <span class="title">Shape</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">func</span> <span class="title">path</span><span class="params">(<span class="keyword">in</span> rect: CGRect)</span></span> -&gt; <span class="type">Path</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> path = <span class="type">Path</span>()</span><br><span class="line">            </span><br><span class="line">            path.move(to: .zero)</span><br><span class="line">            path.addLine(to: <span class="type">CGPoint</span>(x: rect.maxX, y: <span class="number">0</span>))</span><br><span class="line">            path.addLine(to: <span class="type">CGPoint</span>(x: rect.midX, y: rect.midY))</span><br><span class="line">            path.closeSubpath()</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> path</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Direction</span>: <span class="title">Double</span> </span>&#123;</span><br><span class="line">        <span class="keyword">case</span> down = <span class="number">0</span></span><br><span class="line">        <span class="keyword">case</span> <span class="keyword">left</span> = <span class="number">90</span></span><br><span class="line">        <span class="keyword">case</span> up = <span class="number">180</span></span><br><span class="line">        <span class="keyword">case</span> <span class="keyword">right</span> = <span class="number">270</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åŸæ–‡ç« å­¦ä¹ å‚è€ƒèµ„æ–™ï¼š</p></blockquote><p><a href="https://swiftui-lab.com/matchedgeometryeffect-part1/" target="_blank" rel="noopener">https://swiftui-lab.com/matchedgeometryeffect-part1/</a></p><p><a href="https://swiftui-lab.com/matchedgeometryeffect-part2/" target="_blank" rel="noopener">https://swiftui-lab.com/matchedgeometryeffect-part2/</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;matchedGeometryEffect æ˜¯SwiftUI ç¬¬2ç‰ˆä¸­ä¸€ä¸ªä¿®é¥°ç¬¦ï¼Œå®ƒå¯ä»¥ä½¿å¤šä¸ªå…ƒç´ è¿›è¡Œï¼Œä½ç½®ï¼Œå¤§å°ï¼Œç­‰å±æ€§è¿›è¡ŒåŠ¨ç”»åŒ¹é…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;matchedGeometryEffect-çš„å‚æ•°è¯´æ˜&quot;&gt;&lt;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Extensionæ‰©å±•è‡ªå®šä¹‰çš„Animationå’ŒTransition</title>
    <link href="http://tttyyyzzz2020.ghthub.io/2020/08/09/SwiftUI-custom-animation-transition/"/>
    <id>http://tttyyyzzz2020.ghthub.io/2020/08/09/SwiftUI-custom-animation-transition/</id>
    <published>2020-08-09T08:24:49.000Z</published>
    <updated>2020-08-30T02:53:52.285Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Animation-å’Œ-AnyTransition"><a href="#Animation-å’Œ-AnyTransition" class="headerlink" title="Animation å’Œ AnyTransition"></a>Animation å’Œ AnyTransition</h3><blockquote><p>åœ¨SwiftUIä¸­å·²ç»æœ‰æ¡†æ¶å®šä¹‰çš„<code>Animation</code>åŠ¨ç”»ï¼Œå’Œ <code>Transition</code> è¿‡æ¸¡ï¼Œè°ƒç”¨çš„æ–¹å¼ä¹Ÿéå¸¸ç®€å•<br>å¯¹<code>View</code>åº”ç”¨çš„ä¿®é¥°ç¬¦å³å¯. å¦‚<code>.animation(.easeInOut(duration: 10))</code></p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// åŠ¨ç”»</span></span><br><span class="line">.animation(.easeInOut(duration: <span class="number">10</span>))</span><br><span class="line">.animation(.interactiveSpring(response: <span class="number">0.6</span>, dampingFraction: <span class="number">0.6</span>, blendDuration: <span class="number">0.25</span>))</span><br><span class="line">.animation(.interactiveSpring())</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿‡æ¸¡</span></span><br><span class="line">.transition(.identity)</span><br><span class="line">.transition(.scale)</span><br><span class="line">.transition(<span class="type">AnyTransition</span>.opacity)</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœæƒ³è‡ªå®šä¸€äº›åŠ¨ç”»ï¼Œæˆ–ç®€åŒ–è°ƒç”¨ï¼Œåˆ™å¯ä»¥ä½¿ç”¨extensionå»æ‰©å±•è¿™ä¸¤ä¸ªç»“æ„ä½“å¯¹è±¡ï¼Œè¯·çœ‹ä¸‹æ–¹å°ä¾‹å­</p></blockquote><h3 id="å¦‚æœè¦åœ¨åŸåŠ¨ç”»åŸºç¡€ä¸Šï¼Œå®ç°è‡ªå®šä¹‰åŠ¨ç”»"><a href="#å¦‚æœè¦åœ¨åŸåŠ¨ç”»åŸºç¡€ä¸Šï¼Œå®ç°è‡ªå®šä¹‰åŠ¨ç”»" class="headerlink" title="å¦‚æœè¦åœ¨åŸåŠ¨ç”»åŸºç¡€ä¸Šï¼Œå®ç°è‡ªå®šä¹‰åŠ¨ç”»"></a>å¦‚æœè¦åœ¨åŸåŠ¨ç”»åŸºç¡€ä¸Šï¼Œå®ç°è‡ªå®šä¹‰åŠ¨ç”»</h3><h5 id="æ‰©å±•Animationå¢åŠ è‡ªå®šä¹‰åŠ¨ç”»"><a href="#æ‰©å±•Animationå¢åŠ è‡ªå®šä¹‰åŠ¨ç”»" class="headerlink" title="æ‰©å±•Animationå¢åŠ è‡ªå®šä¹‰åŠ¨ç”»"></a>æ‰©å±•Animationå¢åŠ è‡ªå®šä¹‰åŠ¨ç”»</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ï¼š</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Animation</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> hero: <span class="type">Animation</span> &#123;</span><br><span class="line">        debugAnimations ? debug : .interactiveSpring(response: <span class="number">0.6</span>, dampingFraction: <span class="number">0.6</span>, blendDuration: <span class="number">0.25</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> blur: <span class="type">Animation</span> &#123;</span><br><span class="line">        debugAnimations ? debug : .linear(duration: <span class="number">0.25</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> debug: <span class="type">Animation</span>&#123;</span><br><span class="line">        .easeInOut(duration: <span class="number">4.0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ï¼š</span></span><br><span class="line"><span class="comment">// withæ–¹å¼ä½¿ç”¨</span></span><br><span class="line">withAnimation(.hero) &#123;</span><br><span class="line">    <span class="keyword">self</span>.selectedItem = item</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">withAnimation(.debug) &#123;</span><br><span class="line">    <span class="keyword">self</span>.selectedItem = item</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// animationä¿®é¥°ç¬¦æ–¹å¼ä½¿ç”¨</span></span><br><span class="line">.animation(.blur)</span><br><span class="line">.animation(.debug)</span><br></pre></td></tr></table></figure><h5 id="æ‰©å±•Animationå¢åŠ è‡ªå®šä¹‰è¿‡æ¸¡æ•ˆæœ"><a href="#æ‰©å±•Animationå¢åŠ è‡ªå®šä¹‰è¿‡æ¸¡æ•ˆæœ" class="headerlink" title="æ‰©å±•Animationå¢åŠ è‡ªå®šä¹‰è¿‡æ¸¡æ•ˆæœ"></a>æ‰©å±•Animationå¢åŠ è‡ªå®šä¹‰è¿‡æ¸¡æ•ˆæœ</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ï¼š</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">AnyTransition</span> </span>&#123;</span><br><span class="line">    <span class="comment">// AnimatableModifierä¿®é¥°ç¬¦</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">InvisibleModifier</span>: <span class="title">AnimatableModifier</span> </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> pct: <span class="type">Double</span></span><br><span class="line">        <span class="keyword">var</span> animatableData: <span class="type">Double</span> &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123;</span><br><span class="line">                pct</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123;</span><br><span class="line">                pct = newValue</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">func</span> <span class="title">body</span><span class="params">(content: Content)</span></span> -&gt; some <span class="type">View</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> content</span><br><span class="line">                .opacity(pct == <span class="number">1.0</span> ? <span class="number">1</span> : <span class="number">0</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 1 - 0 é€æ˜åº¦å˜åŒ–</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> invisible: <span class="type">AnyTransition</span> &#123;</span><br><span class="line">        <span class="type">AnyTransition</span>.modifier(</span><br><span class="line">            active: <span class="type">InvisibleModifier</span>(pct: <span class="number">0</span>),</span><br><span class="line">            identity: <span class="type">InvisibleModifier</span>(pct: <span class="number">1</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ï¼š</span></span><br><span class="line">.transition(.invisible)</span><br><span class="line">.transition(<span class="type">AnyTransition</span>.invisible)</span><br></pre></td></tr></table></figure><h3 id="å…¶å®æ‰©å±•-Animation-å’Œ-AnyTransition-å’Œæ‰©å±•-Colorï¼Œ-Font-æœ¬è´¨æ˜¯æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå“ˆå“ˆğŸ˜‚"><a href="#å…¶å®æ‰©å±•-Animation-å’Œ-AnyTransition-å’Œæ‰©å±•-Colorï¼Œ-Font-æœ¬è´¨æ˜¯æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå“ˆå“ˆğŸ˜‚" class="headerlink" title="å…¶å®æ‰©å±• Animation å’Œ AnyTransition  å’Œæ‰©å±• Colorï¼Œ Font æœ¬è´¨æ˜¯æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå“ˆå“ˆğŸ˜‚"></a>å…¶å®æ‰©å±• <code>Animation</code> å’Œ <code>AnyTransition</code>  å’Œæ‰©å±• <code>Color</code>ï¼Œ <code>Font</code> æœ¬è´¨æ˜¯æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå“ˆå“ˆğŸ˜‚</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Animation-å’Œ-AnyTransition&quot;&gt;&lt;a href=&quot;#Animation-å’Œ-AnyTransition&quot; class=&quot;headerlink&quot; title=&quot;Animation å’Œ AnyTransition&quot;&gt;&lt;/a&gt;Animation å’Œ
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•è‡ªå®šä¹‰@Environmentå˜é‡</title>
    <link href="http://tttyyyzzz2020.ghthub.io/2020/08/09/SwiftUI-Environment/"/>
    <id>http://tttyyyzzz2020.ghthub.io/2020/08/09/SwiftUI-Environment/</id>
    <published>2020-08-09T07:50:51.000Z</published>
    <updated>2020-08-30T02:54:38.962Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å…³äº-Environment-åŸºç¡€"><a href="#å…³äº-Environment-åŸºç¡€" class="headerlink" title="å…³äº@Environment åŸºç¡€"></a>å…³äº@Environment åŸºç¡€</h3><blockquote><p>åœ¨SwiftUIåœ¨ @EnvironmentåŒ…è£…çš„æ˜¯APPç³»ç»Ÿç¯å¢ƒå˜é‡,å¯ä»¥åœ¨æ•´ä¸ªåº”ç”¨ä»»æ„é¡µé¢è·å–</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@<span class="type">Environment</span>(\.colorScheme) <span class="keyword">var</span> scheme     <span class="comment">//ç³»ç»Ÿå½“å‰ä¸»é¢˜æ¨¡å¼ï¼Œ .dark æˆ– .light</span></span><br></pre></td></tr></table></figure><h3 id="å¦‚æœè¦è‡ªå®šä¹‰ä¸€äº›å…¨å±€ç¯å¢ƒçš„å˜é‡æ€ä¹ˆåŠ"><a href="#å¦‚æœè¦è‡ªå®šä¹‰ä¸€äº›å…¨å±€ç¯å¢ƒçš„å˜é‡æ€ä¹ˆåŠ" class="headerlink" title="å¦‚æœè¦è‡ªå®šä¹‰ä¸€äº›å…¨å±€ç¯å¢ƒçš„å˜é‡æ€ä¹ˆåŠ"></a>å¦‚æœè¦è‡ªå®šä¹‰ä¸€äº›å…¨å±€ç¯å¢ƒçš„å˜é‡æ€ä¹ˆåŠ</h3><blockquote><p>å¯ä»¥é€šè¿‡ <code>extension</code> æ‰©å±• <code>EnvironmentValues</code> å’Œé…ç½® <code>EnvironmentKey</code> å®ç°</p></blockquote><p>1.é¢„è®¾ä¸¤ä¸ªå–å€¼çš„key, å¹¶è®¾ç½®é»˜è®¤å€¼ï¼Œä¸€ä¸ªå¯ä»¥ç¤ºä¾‹è·å–å¯¹è±¡ï¼Œä¸€ä¸ªç¤ºä¾‹ç”¨äºè·å–CGFloatæ•°å€¼</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EnvironmentKey</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">HeroConfigKey</span>: <span class="title">EnvironmentKey</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">let</span> defaultValue: <span class="type">HeroConfiguration</span> = .<span class="keyword">default</span>     <span class="comment">//HeroConfigurationæ˜¯ä¸€ä¸ªç»“æ„ä½“å¯¹è±¡ï¼Œæ­¤å¤„çœç•¥å®ç°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">ModalTransitionKey</span>: <span class="title">EnvironmentKey</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">let</span> defaultValue: <span class="type">CGFloat</span> = <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.æ‰©å±•<code>EnvironmentValues</code> å€¼é€‰é¡¹ï¼Œé…ç½®<code>get</code>å’Œ<code>set</code> å±æ€§</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">EnvironmentValues</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> heroConfig: <span class="type">HeroConfiguration</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>[<span class="type">HeroConfigKey</span>.<span class="keyword">self</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="keyword">self</span>[<span class="type">HeroConfigKey</span>.<span class="keyword">self</span>] = newValue</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> modalTransitionPercent: <span class="type">CGFloat</span> &#123;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>[<span class="type">ModalTransitionKey</span>.<span class="keyword">self</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="keyword">self</span>[<span class="type">ModalTransitionKey</span>.<span class="keyword">self</span>] = newValue</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-Environment-è·å–è‡ªå®šä¹‰é¢„è®¾çš„å…¨å±€ç¯å¢ƒå˜é‡"><a href="#ä½¿ç”¨-Environment-è·å–è‡ªå®šä¹‰é¢„è®¾çš„å…¨å±€ç¯å¢ƒå˜é‡" class="headerlink" title="ä½¿ç”¨@Environment è·å–è‡ªå®šä¹‰é¢„è®¾çš„å…¨å±€ç¯å¢ƒå˜é‡"></a>ä½¿ç”¨@Environment è·å–è‡ªå®šä¹‰é¢„è®¾çš„å…¨å±€ç¯å¢ƒå˜é‡</h3><blockquote><p>å’Œä½¿ç”¨ç³»ç»Ÿé¢„è®¾çš„çš„å˜é‡ä¸€è‡´</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="type">Environment</span>(\.modalTransitionPercent) <span class="keyword">var</span> pct: <span class="type">CGFloat</span></span><br><span class="line">@<span class="type">Environment</span>(\.heroConfig) <span class="keyword">var</span> config: <span class="type">HeroConfiguration</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// print(pct)        0</span></span><br><span class="line"><span class="comment">// print(config)     HeroConfiguration.default å¯¹è±¡</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;å…³äº-Environment-åŸºç¡€&quot;&gt;&lt;a href=&quot;#å…³äº-Environment-åŸºç¡€&quot; class=&quot;headerlink&quot; title=&quot;å…³äº@Environment åŸºç¡€&quot;&gt;&lt;/a&gt;å…³äº@Environment åŸºç¡€&lt;/h3&gt;&lt;blockquote&gt;

      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>å…³äºHashableå’ŒEquatableåè®®çš„ä½¿ç”¨ï¼Œæ¯”è¾ƒç»“æ„ä½“ç­‰æ•°æ®</title>
    <link href="http://tttyyyzzz2020.ghthub.io/2020/07/14/SwiftUI-Hashable-Equatable/"/>
    <id>http://tttyyyzzz2020.ghthub.io/2020/07/14/SwiftUI-Hashable-Equatable/</id>
    <published>2020-07-14T05:02:50.000Z</published>
    <updated>2020-08-30T02:54:45.006Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Equatableåè®®"><a href="#Equatableåè®®" class="headerlink" title="Equatableåè®®"></a>Equatableåè®®</h2><blockquote><p>æ¯”è¾ƒåŸºç¡€çš„å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œå¯ä»¥ç›´æ¥<code>==</code>è¿ç®—ç¬¦ï¼Œæ˜¯å› ä¸ºåœ¨æ ‡å‡†åº“ä¸­ï¼Œå®˜æ–¹å·²ç»å®ç°äº†åŸºç¡€æ•°æ®ç±»å‹çš„<code>Equatable</code>åè®®</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str1 = <span class="string">"Hello, playground"</span></span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">"Hello, playground"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> str1 == str2 &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Yes"</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"No"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä½†å¦‚æœè¦æ¯”è¾ƒä¸¤ä¸ª<code>struct</code>, å¿…é¡»è‡ªå·±å®ç°<code>Equatable</code>åè®®ä¸­çš„<code>==</code>æ–¹æ³•ï¼Œæ‰èƒ½æ¯”è¾ƒ</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span>: <span class="title">Equatable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> age: <span class="type">Int</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> == <span class="params">(lhs: Person, rhs: Person)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">return</span>  lhs.name == rhs.name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="type">Person</span>(name: <span class="string">"Tang"</span>, age: <span class="number">19</span>)</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="type">Person</span>(name: <span class="string">"Tang"</span>, age: <span class="number">19</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> p1 == p2 &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Yes"</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"No"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Hashableåè®®"><a href="#Hashableåè®®" class="headerlink" title="Hashableåè®®"></a>Hashableåè®®</h2><blockquote><p>1.å¦‚æœè¦æŠŠä¸€ä¸ªå¯¹è±¡ä½œä¸º<code>Dictionary</code>çš„<code>key</code>, æˆ–ç€<code>Set</code>çš„å€¼ï¼Œé‚£å®ƒå¿…é¡»ç»§æ‰¿è‡ª<code>Hashable</code>åè®®<br>2.<code>Hashable</code>åè®®æ˜¯ç»§æ‰¿è‡ª<code>Equatable</code>åè®®çš„<br>3.<code>Hashable</code>åè®®æœ‰ä¸€ä¸ª<code>hash()</code>æ–¹æ³•,å¯ä»¥åˆå¹¶ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„<code>hashValue</code>ä¾¿äºåŒºåˆ†æ¯æ¡æ•°æ®</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Post</span>:<span class="title">Equatable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> content: <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Account</span>: <span class="title">Hashable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> accountIdentifier: <span class="type">Person</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// hashæ–¹æ³•è¿™é‡Œç”Ÿæˆçš„å€¼ï¼Œå¯ä½œä¸ºå­—å…¸çš„keyï¼Œéœ€è¦å…·æœ‰å”¯ä¸€æ€§,</span></span><br><span class="line">    <span class="comment">// åœ¨æœ¬æ —å­å¦‚æœcombineæ²¡æœ‰åˆå¹¶ageçš„å€¼å½“ä¸¤ä¸ªPersonåç§°ç›¸åŒï¼Œacount1å’Œacount2ä¸èƒ½åŒæ—¶å­˜åœ¨ä½œä¸ºkey</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">hash</span><span class="params">(into hasher: <span class="keyword">inout</span> Hasher)</span></span> &#123;</span><br><span class="line">        hasher.combine(accountIdentifier.name)</span><br><span class="line">        hasher.combine(accountIdentifier.age)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¿™é‡Œ==æ–¹æ³•æ˜¯åšaccountè‡ªèº«çš„æ¯”è¾ƒï¼Œå¦‚æœåªæ¯”è¾ƒnameçš„è¯ï¼Œaccount1 å’Œ account2 å°†ä¼šç›¸ç­‰ï¼Œ å½“åŒæ—¶æ¯”è¾ƒageæ—¶ä¸¤è€…å°†ä¸å†ç›¸ç­‰</span></span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> == <span class="params">(lhs: Account, rhs: Account)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        lhs.accountIdentifier.name == rhs.accountIdentifier.name <span class="comment">// &amp;&amp; lhs.accountIdentifier.age == rhs.accountIdentifier.age</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ¯”è¾ƒä¸¤ä¸ª<code>Account</code>è´¦æˆ·, <code>==</code>æ–¹æ³•çš„ä¸åŒå®ç°ï¼Œå°†å¯¹åˆ¤ç­‰äº§ç”Ÿä¸åŒçš„ç»“æœ</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> acount1 = <span class="type">Account</span>(accountIdentifier: <span class="type">Person</span>(name: <span class="string">"Tang"</span>, age: <span class="number">19</span>))</span><br><span class="line"><span class="keyword">var</span> acount2 = <span class="type">Account</span>(accountIdentifier: <span class="type">Person</span>(name: <span class="string">"Tang"</span>, age: <span class="number">20</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> acount1 == acount2 &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Yes acount is same"</span>)  <span class="comment">//å°†è¢«è¾“å‡ºï¼Œå› ä¸ºæˆ‘ä»¬ == è¿ç®—åªæ˜¯å¯¹æ¯”äº† name</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"No"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å½“æŠŠ<code>Acount</code>ä½œä¸º<code>dict</code>å­—å…¸çš„<code>key</code>æ—¶ï¼Œä¸¤è€…çš„<code>hashValue</code>æ˜¯ä¸èƒ½ç›¸ç­‰çš„</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// account1 å’Œ account2 å¯ä»¥åŒæ—¶ä½œä¸º dict çš„ key , å› ä¸ºæˆ‘ä»¬ Account çš„ hash() æ–¹æ³•ä¸­ï¼Œç»„åˆäº† name å’Œ age ä½¿å¾—å®ƒçš„hashValueå…·æœ‰å”¯ä¸€æ€§è´¨</span></span><br><span class="line"><span class="keyword">var</span> dict = [</span><br><span class="line">    acount1: <span class="type">Post</span>(content: <span class="string">"post1"</span>),</span><br><span class="line">    acount2: <span class="type">Post</span>(content: <span class="string">"post1"</span>),</span><br><span class="line">]</span><br><span class="line"><span class="keyword">let</span> post1 = dict[<span class="type">Account</span>(accountIdentifier: <span class="type">Person</span>(name: <span class="string">"Tang"</span>, age: <span class="number">19</span>)) ]</span><br><span class="line"><span class="keyword">let</span> post2 = dict[<span class="type">Account</span>(accountIdentifier: <span class="type">Person</span>(name: <span class="string">"Tang"</span>, age: <span class="number">20</span>)) ]</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”±äºpostå†…å®¹ä¹Ÿæ˜¯ä¸€è‡´çš„ï¼Œæ‰€ä»¥Yesè¯­å¥å°†è¢«è¾“å‡º</span></span><br><span class="line"><span class="keyword">if</span> post1 == post2 &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Yes post is same"</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"No"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å°ç»“ï¼š<code>Equatable</code> æ˜¯ç”¨äºæ•°æ®æ¯”è¾ƒçš„åè®®ï¼Œ<code>Hashable</code>ç»§æ‰¿äº†<code>Equatable</code>ã€‚ åŒæ—¶å®ƒå¤šäº†ä¸€ä¸ª<code>hash</code>è¿ç®—ï¼Œå¯ç”Ÿæˆå”¯ä¸€çš„<code>hashValue</code>ä»¥ä¾¿äºåœ¨ <code>Dictionary</code>ï¼Œ<code>Set</code>ç­‰æ•°æ®ä¸­ä½¿ç”¨ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Equatableåè®®&quot;&gt;&lt;a href=&quot;#Equatableåè®®&quot; class=&quot;headerlink&quot; title=&quot;Equatableåè®®&quot;&gt;&lt;/a&gt;Equatableåè®®&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;æ¯”è¾ƒåŸºç¡€çš„å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œå¯ä»¥ç›´æ¥&lt;cod
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨@ViewBuilderå°è£…ç»„ä»¶ï¼Œåˆ†ç¦»ç»„ä»¶é€»è¾‘å’Œæ¸²æŸ“</title>
    <link href="http://tttyyyzzz2020.ghthub.io/2020/07/10/SwiftUI-ViewBuilder/"/>
    <id>http://tttyyyzzz2020.ghthub.io/2020/07/10/SwiftUI-ViewBuilder/</id>
    <published>2020-07-10T09:26:45.000Z</published>
    <updated>2020-08-30T02:55:21.844Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ViewBuilder-å¯ä»¥åšäº›ä»€ä¹ˆï¼Ÿ"><a href="#ViewBuilder-å¯ä»¥åšäº›ä»€ä¹ˆï¼Ÿ" class="headerlink" title="@ViewBuilder å¯ä»¥åšäº›ä»€ä¹ˆï¼Ÿ"></a>@ViewBuilder å¯ä»¥åšäº›ä»€ä¹ˆï¼Ÿ</h2><blockquote><p>ä½¿ç”¨<code>@ViewBuilder</code>å¯ä»¥æ›´è‡ªç”±çš„ç»„è£…è§†å›¾ï¼ŒæŠŠç›¸åŒçš„éƒ¨åˆ†ç»Ÿä¸€å°è£…ï¼Œä¸åŒçš„éƒ¨åˆ†æŠ½ç¦»åœ¨å¤–éƒ¨è¿›è¡Œè‡ªç”±å®šä¹‰ã€‚å®ƒèƒ½å®ç°éå¸¸ç±»ä¼¼å‰ç«¯ä¹¦å†™vueç»„ä»¶çš„slotåŠŸèƒ½ã€‚ã€‚ã€‚</p></blockquote><p> å…ˆçœ‹ä¸€ä¸ªå°ä¾‹å­ï¼š</p> <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å½“æˆ‘ä»¬è¦ä¸ªæ–‡å­—ï¼Œæˆ–å›¾ç‰‡æ·»åŠ ç›¸åŒçš„åœ†è§’å’ŒèƒŒæ™¯è‰²æ—¶ï¼Œæœ€åŸå§‹çš„åšæ³•æˆ‘ä»¬å¯ä»¥å¦‚ä¸‹</span></span><br><span class="line"><span class="type">Text</span>(<span class="string">"Click Me ï¼"</span>)</span><br><span class="line">   .background(<span class="type">Color</span>.red)</span><br><span class="line">   .cornerRadius(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="type">Image</span>(systemName: <span class="string">"person"</span>)</span><br><span class="line">   .background(<span class="type">Color</span>.red)</span><br><span class="line">   .cornerRadius(<span class="number">5</span>)</span><br></pre></td></tr></table></figure><blockquote><p>å…¶æ¬¡æˆ‘ä»¬ä¹Ÿå¯ä»¥ï¼Œæ‰©å……ä¸€ä¸ªè‡ªå®šä¹‰ä¿®é¥°ç¬¦ï¼Œ<code>ViewModifier</code> åœ¨ <code>View</code>ä¸Šå®ç°ï¼Œå®ç°å¯å‚è€ƒä¸‹é¢çš„é“¾æ¥</p></blockquote><p>[é“¾æ¥ğŸ”—][ <a href="https://tttyyyzzz2020.github.io/2020/04/10/SwiftUI-custome-modifier/" target="_blank" rel="noopener">https://tttyyyzzz2020.github.io/2020/04/10/SwiftUI-custome-modifier/</a> ]</p><blockquote><p>é™¤äº†ä¸Šé¢çš„æ–¹æ³•ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨ <code>@ViewBuilder</code> æ¥åˆ›å»º<br>ç›¸è¾ƒäºå‰è€…è€Œè¨€ï¼Œå¯ä»¥è‡ªç”±çš„ç®¡ç†ç»„ä»¶çš„æ ·å¼ï¼Œè¿˜èƒ½ç»™å®ƒå®šä¹‰æ›´å¤šçŠ¶æ€ã€‚å¦‚ç»™å›¾ç‰‡å’ŒæŒ‰é’®æ·»åŠ çŠ¶æ€ä»è€Œæ”¹å˜é¢œè‰²ã€‚</p></blockquote><p>1ã€åˆ›å»ºç»„ä»¶ï¼Œåˆå§‹åŒ–æ˜¯ä¼ å…¥<code>@ViewBuilder</code>ä¿®é¥°çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°è®¸è¿”å›<code>View</code>ç±»å‹æ•°æ®,æœ€ååœ¨ <code>func body()</code> æ–¹æ³•ä¸­æ¸²æŸ“</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">YiWrapperView</span>&lt;<span class="title">Content</span>: <span class="title">View</span>&gt;: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> content: <span class="type">Content</span></span><br><span class="line">    @<span class="type">State</span> <span class="keyword">var</span> status: <span class="type">Bool</span> = <span class="literal">false</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(<span class="number">_</span> status: <span class="type">State</span>&lt;<span class="type">Bool</span>&gt; = .<span class="keyword">init</span>(initialValue: <span class="literal">false</span>), </span><br><span class="line">        @<span class="type">ViewBuilder</span> content: () -&gt; <span class="type">Content</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>._status = status</span><br><span class="line">        <span class="keyword">self</span>.content = content()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        content</span><br><span class="line">            .padding()</span><br><span class="line">            .background(status ? <span class="type">Color</span>.red :<span class="type">Color</span>.green)</span><br><span class="line">            .cornerRadius(<span class="number">5</span>)</span><br><span class="line">            .onTapGesture &#123;</span><br><span class="line">                <span class="keyword">self</span>.status.toggle()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€ä½¿ç”¨ç»„ä»¶</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">YiWrapperView</span>(.<span class="keyword">init</span>(initialValue: <span class="literal">true</span>)) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">"Click Me ï¼"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">YiWrapperView</span> &#123;</span><br><span class="line">    <span class="type">Image</span>(systemName: <span class="string">"person"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å°è£…ä¸€ä¸ªæ•°æ®è·å–å±‚çš„Viewç»„ä»¶"><a href="#å°è£…ä¸€ä¸ªæ•°æ®è·å–å±‚çš„Viewç»„ä»¶" class="headerlink" title="å°è£…ä¸€ä¸ªæ•°æ®è·å–å±‚çš„Viewç»„ä»¶"></a>å°è£…ä¸€ä¸ªæ•°æ®è·å–å±‚çš„Viewç»„ä»¶</h2><blockquote><p>åœ¨ä¸‹é¢çš„ğŸŒ°æ —å­ æˆ‘ä»¬æŠŠæ•°æ®è¯·æ±‚é€»è¾‘å•ç‹¬å°è£…èµ·æ¥ã€‚<br>ä½¿ç”¨<code>ViewBuilder</code>å»æ„å»ºè§†å›¾ï¼Œ ä»è€Œä½¿å¾—æ•°æ®è·å–å’Œè§†å›¾æ¸²æŸ“å‰¥ç¦»ã€‚<br>ä½¿ç”¨è€…åªéœ€å…³å¿ƒå¦‚ä½•å°†æ•°æ®æ¸²æŸ“ä¸åŒçš„è§†å›¾ï¼Œ è€Œæ•°æ®çš„è·å–çš„é€»è¾‘æˆ‘ä»¬ç»Ÿä¸€å°è£…åœ¨æœ€å¤–åŒ…è£¹å±‚</p></blockquote><p>1ã€ä¸‹æ–¹æ˜¯ä¸€ä¸ªä»¥core data æ•°æ®è·å–çš„ç»„ä»¶</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"><span class="keyword">import</span> CoreData</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">FetchResultWrapper</span>&lt;<span class="title">Object</span>, <span class="title">Content</span>&gt;: <span class="title">View</span> <span class="title">where</span> <span class="title">Object</span>: <span class="title">NSManagedObject</span>, <span class="title">Content</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> content: ([<span class="type">Object</span>]) -&gt; <span class="type">Content</span>   <span class="comment">//è§†å›¾æ„å»º</span></span><br><span class="line">    <span class="keyword">var</span> request: <span class="type">FetchRequest</span>&lt;<span class="type">Object</span>&gt;    <span class="comment">//æ•°æ®è¯·æ±‚</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(</span><br><span class="line">        predicate: <span class="type">NSPredicate</span> = <span class="type">NSPredicate</span>(value: <span class="literal">true</span>),</span><br><span class="line">        sortDescriptors: [<span class="type">NSSortDescriptor</span>] = [],</span><br><span class="line">        @<span class="type">ViewBuilder</span> content: @escaping([<span class="type">Object</span>]) -&gt; <span class="type">Content</span></span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="keyword">self</span>.content = content</span><br><span class="line">        <span class="keyword">self</span>.request = <span class="type">FetchRequest</span>(</span><br><span class="line">            entity: <span class="type">Object</span>.entity(),</span><br><span class="line">            sortDescriptors: sortDescriptors,</span><br><span class="line">            predicate: predicate</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.content(request.wrappedValue.<span class="built_in">map</span>(&#123;$<span class="number">0</span>&#125;))     <span class="comment">//æ•°æ®ä¼ é€’ç»™è§†å›¾</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€ç»„ä»¶è°ƒç”¨æ–¹å¼ (æ³¨æ„è¿™é‡Œcore data çš„ä»£ç å¹¶ä¸å®Œæ•´)</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–core data æ•°æ®</span></span><br><span class="line"><span class="type">FetchResultWrapper</span>(predicate: <span class="keyword">self</span>.coredataManager.notePredicate,</span><br><span class="line">                    sortDescriptors: [<span class="keyword">self</span>.coredataManager.sortDescriptor]) &#123; (data: [<span class="type">Item</span>])  <span class="keyword">in</span></span><br><span class="line">                    </span><br><span class="line">                    <span class="comment">//åœ¨å·²ç»æœ‰äº† data æ•°æ®ï¼Œ å¯ä»¥è‡ªç”±æ¸²æŸ“äº†...</span></span><br><span class="line">                    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ViewBuilder-å¯ä»¥åšäº›ä»€ä¹ˆï¼Ÿ&quot;&gt;&lt;a href=&quot;#ViewBuilder-å¯ä»¥åšäº›ä»€ä¹ˆï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;@ViewBuilder å¯ä»¥åšäº›ä»€ä¹ˆï¼Ÿ&quot;&gt;&lt;/a&gt;@ViewBuilder å¯ä»¥åšäº›ä»€ä¹ˆï¼Ÿ&lt;/h2&gt;&lt;bl
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ToggleStyleè‡ªå®šä¹‰Toggleç»„ä»¶çš„æ ·å¼</title>
    <link href="http://tttyyyzzz2020.ghthub.io/2020/06/12/SwiftUI-CustomToogleStyle/"/>
    <id>http://tttyyyzzz2020.ghthub.io/2020/06/12/SwiftUI-CustomToogleStyle/</id>
    <published>2020-06-12T15:40:59.000Z</published>
    <updated>2020-08-30T02:54:04.627Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ç« å†…å®¹ä¸»è¦å­¦ä¹ å¦‚ä½•é€šè¿‡ <code>ButtonStyleï¼ŒToggleStyleï¼ŒTextFieldStyle</code> ç­‰åè®®çš„<code>func makeBody()</code>æ–¹æ³•ï¼Œé…ç½®ç»„ä»¶çš„æ ·å¼.</p></blockquote><h2 id="SwiftUIæ¡†æ¶é»˜è®¤æä¾›çš„ç»„ä»¶æ ·å¼"><a href="#SwiftUIæ¡†æ¶é»˜è®¤æä¾›çš„ç»„ä»¶æ ·å¼" class="headerlink" title="SwiftUIæ¡†æ¶é»˜è®¤æä¾›çš„ç»„ä»¶æ ·å¼"></a>SwiftUIæ¡†æ¶é»˜è®¤æä¾›çš„ç»„ä»¶æ ·å¼</h2><blockquote><p>åœ¨SwiftUIä¸­ä¸ºé€‚é…ä¸åŒçš„è®¾å¤‡ï¼ŒåŠäº¤äº’åœºæ™¯ï¼Œæ¡†æ¶ä¸ºå¾ˆå¤šäº¤äº’æä¾›äº†ä¸€äº›é»˜è®¤çš„è‡ªå®šä¹‰æ ·å¼ã€‚</p></blockquote><p>1ã€å¦‚<code>Button</code> ç»„ä»¶æœ‰å¦‚ä¸‹é»˜è®¤æ ·å¼ï¼Œä½¿ç”¨ä¹Ÿéå¸¸ç®€å•åªè¦åº”ç”¨å¯¹åº”çš„ä¿®é¥°ç¬¦å³å¯ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤æ ·å¼</span></span><br><span class="line"><span class="type">BorderedButtonStyle</span></span><br><span class="line"><span class="type">BorderlessButtonStyle</span></span><br><span class="line"><span class="type">DefaultButtonStyle</span></span><br><span class="line"><span class="type">LinkButtonStyle</span></span><br><span class="line"><span class="type">PlainButtonStyle</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ–¹å¼</span></span><br><span class="line"><span class="type">Button</span>(action: &#123;</span><br><span class="line">                </span><br><span class="line">&#125;) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">"Button"</span>)</span><br><span class="line">&#125;</span><br><span class="line">.buttonStyle(<span class="type">PlainButtonStyle</span>())</span><br></pre></td></tr></table></figure><p>2ã€å…¶<code>Toggle</code>ç»„ä»¶ä¹Ÿæœ‰å¦‚ä¸‹æ ·å¼</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤æ ·å¼</span></span><br><span class="line"><span class="type">CheckboxToggleStyle</span>      </span><br><span class="line"><span class="type">DefaultToggleStyle</span></span><br><span class="line"><span class="type">SwitchToggleStyle</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨</span></span><br><span class="line"><span class="type">Toggle</span>(isOn: $checked) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">"æ˜¯å¦æ‰“å¼€"</span>)</span><br><span class="line">&#125;</span><br><span class="line">.toggleStyle(<span class="type">SwitchToggleStyle</span>())</span><br></pre></td></tr></table></figure><blockquote><p>å½“è¿™äº›é»˜è®¤çš„æ ·å¼ï¼Œä¸ç¬¦åˆæˆ‘ä»¬çš„éœ€æ±‚æ—¶å€™ï¼Œæˆ–æ”¹æ ·å¼åœ¨è¯¥å¹³å°è®¾å¤‡ä¸­ä¸é€‚ç”¨æ˜¯å°±éœ€è¦æˆ‘ä»¬å»è‡ªå·±å®šä¹‰ï¼Œä¸‹é¢ä»¥Toogleç»„ä»¶ä¸ºä¾‹ã€‚</p></blockquote><h2 id="è‡ªå®šä¹‰Toggleçš„æ ·å¼"><a href="#è‡ªå®šä¹‰Toggleçš„æ ·å¼" class="headerlink" title="è‡ªå®šä¹‰Toggleçš„æ ·å¼"></a>è‡ªå®šä¹‰Toggleçš„æ ·å¼</h2><p>1ã€åˆ›å»ºç»“æ„ä½“ï¼Œç»§æ‰¿è‡ª<code>ToggleStyle</code>ï¼Œ ç„¶åå®ç°<code>func makeBody()</code>æ–¹æ³•, å…¶ä¸­çš„<code>configuration</code> å°±æ˜¯ç›¸å…³ä¸€äº›ç»„ä»¶çŠ¶æ€é…ç½®é¡¹</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">configuration.label  <span class="comment">//æ˜¯æ ‡ç­¾æ–‡å­—</span></span><br><span class="line">configuration.isOn   <span class="comment">//æ˜¯é€‰ä¸­çŠ¶æ€</span></span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CustomToggleStyle</span>: <span class="title">ToggleStyle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> size: <span class="type">CGFloat</span> = <span class="number">40</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">makeBody</span><span class="params">(configuration: Configuration)</span></span> -&gt; some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">HStack</span>&#123;</span><br><span class="line">            configuration.label</span><br><span class="line">            <span class="type">Spacer</span>()</span><br><span class="line">            <span class="type">Button</span>(action: &#123;</span><br><span class="line">                configuration.isOn.toggle()</span><br><span class="line">            &#125;) &#123;</span><br><span class="line">                <span class="keyword">if</span> configuration.isOn &#123;</span><br><span class="line">                    <span class="type">ZStack</span>&#123;</span><br><span class="line">                        <span class="type">Circle</span>()</span><br><span class="line">                            .frame(width: size, height: size, alignment: .center)</span><br><span class="line">                            .foregroundColor(<span class="type">Color</span>.white)</span><br><span class="line">                        <span class="type">Image</span>(systemName: <span class="string">"power"</span>)</span><br><span class="line">                            .resizable()</span><br><span class="line">                            .frame(width: <span class="number">20</span>, height: <span class="number">20</span>, alignment: .center)</span><br><span class="line">                            .foregroundColor(<span class="type">Color</span>.orange)</span><br><span class="line">                    &#125;.shadow(color: <span class="type">Color</span>.gray, radius: <span class="number">5</span>, x: <span class="number">2</span>, y: <span class="number">2</span>)</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="type">ZStack</span>&#123;</span><br><span class="line">                        <span class="type">Circle</span>()</span><br><span class="line">                            .fill(<span class="type">Color</span>.gray)</span><br><span class="line">                            .frame(width: size, height: size,alignment: .center)</span><br><span class="line">                        </span><br><span class="line">                        <span class="type">Image</span>(systemName: <span class="string">"power"</span>)</span><br><span class="line">                            .resizable()</span><br><span class="line">                            .frame(width: <span class="number">20</span>, height: <span class="number">20</span>, alignment: .center)</span><br><span class="line">                            .foregroundColor(<span class="type">Color</span>.white)</span><br><span class="line">                        </span><br><span class="line">                    &#125;</span><br><span class="line">                    .shadow(color: <span class="type">Color</span>.gray, radius: <span class="number">5</span>, x: <span class="number">2</span>, y: <span class="number">2</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€åº”ç”¨è‡ªå®šä¹‰çš„æ ·å¼,åœ¨æœ¬æ —å­ä¸­åªéœ€æ·»åŠ <code>.toggleStyle(CustomToggleStyle())</code>ä¿®é¥°ç¬¦å³å¯</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">State</span> <span class="keyword">var</span> checked: <span class="type">Bool</span> = <span class="literal">false</span></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="comment">// åŸå§‹æ ·å¼</span></span><br><span class="line">            <span class="type">Toggle</span>(isOn: $checked) &#123;</span><br><span class="line">                <span class="type">Text</span>(<span class="string">"è¯·ç‚¹å‡» \(checked ? "</span><span class="type">ON</span><span class="string">" : "</span><span class="type">OFF</span><span class="string">")"</span>)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//è‡ªå®šä¹‰çš„toggleæ ·å¼</span></span><br><span class="line">            <span class="type">Toggle</span>(isOn: $checked) &#123;</span><br><span class="line">                <span class="type">Text</span>(<span class="string">"è¯·ç‚¹å‡» \(checked ? "</span><span class="type">ON</span><span class="string">" : "</span><span class="type">OFF</span><span class="string">")"</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            .toggleStyle(<span class="type">CustomToggleStyle</span>())  </span><br><span class="line">        &#125;</span><br><span class="line">        .padding()</span><br><span class="line">        .background(<span class="type">Color</span>.gray.opacity(<span class="number">0.2</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3ã€åŸå§‹æ ·å¼ä¸è‡ªå®šæ ·å¼æ•ˆæœå›¾</p><img src="/.io//06/12/SwiftUI-CustomToogleStyle/custome_toggle_off.jpg" class><img src="/.io//06/12/SwiftUI-CustomToogleStyle/custome_toggle_on.jpg" class>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡ç« å†…å®¹ä¸»è¦å­¦ä¹ å¦‚ä½•é€šè¿‡ &lt;code&gt;ButtonStyleï¼ŒToggleStyleï¼ŒTextFieldStyle&lt;/code&gt; ç­‰åè®®çš„&lt;code&gt;func makeBody()&lt;/code&gt;æ–¹æ³•ï¼Œé…ç½®ç»„ä»¶çš„æ ·å¼.&lt;/p&gt;
&lt;/blockquo
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨PreviewProvideræ§åˆ¶é¢„è§ˆæ•ˆæœ</title>
    <link href="http://tttyyyzzz2020.ghthub.io/2020/05/10/SwiftUI-PreviewProvider/"/>
    <id>http://tttyyyzzz2020.ghthub.io/2020/05/10/SwiftUI-PreviewProvider/</id>
    <published>2020-05-10T14:42:12.000Z</published>
    <updated>2020-08-30T03:11:56.133Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬ä¾‹ä¸»è¦æ¼”ç¤ºå¦‚ä½•åœ¨SiwftUI å®ç°ä¸åŒé¢œè‰²ä¸»é¢˜ï¼Œä¸åŒè®¾å¤‡ï¼ŒåŠå°ºå¯¸çš„å®æ—¶é¢„è§ˆ</p></blockquote><p>1ã€åˆ›å»ºä¸€ä¸ªåŸºç¡€çš„ContentView</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è·å–å½“å‰ç¯å¢ƒçš„é¢œè‰²æ¨¡å¼</span></span><br><span class="line">    @<span class="type">Environment</span>(\.colorScheme) <span class="keyword">var</span> colorScheme: <span class="type">ColorScheme</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span>&#123;</span><br><span class="line">            (colorScheme == .light ?  <span class="type">Color</span>.white : <span class="type">Color</span>.black)</span><br><span class="line">                .edgesIgnoringSafeArea(.all)</span><br><span class="line">            <span class="type">Text</span>(<span class="string">"ContentView"</span>)</span><br><span class="line">                .foregroundColor(.primary)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€åˆ›å»ºä¸€ä¸ªé¢„è§ˆçš„previews</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView_Previews</span>: <span class="title">PreviewProvider</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">Group</span> &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// ä¸»é¢˜é¢œè‰²</span></span><br><span class="line">            <span class="type">ContentView</span>()</span><br><span class="line">                .environment(\.colorScheme, .light)</span><br><span class="line">            </span><br><span class="line">            <span class="type">ContentView</span>()</span><br><span class="line">                .environment(\.colorScheme, .dark)</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">            <span class="comment">// é¢„è§ˆçš„è®¾å¤‡</span></span><br><span class="line">            <span class="type">ContentView</span>()</span><br><span class="line">                .previewDevice(<span class="string">"iPhone 8"</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// å¸ƒå±€å°ºå¯¸</span></span><br><span class="line">            <span class="type">ContentView</span>()</span><br><span class="line">                .previewLayout(.fixed(width: <span class="number">100</span>, height: <span class="number">100</span>))</span><br><span class="line">            </span><br><span class="line">            <span class="type">ContentView</span>()</span><br><span class="line">                .previewLayout(.sizeThatFits)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/.io//PreviewProvider_01.jpg" alt="aaa"></p><blockquote><p>é€šè¿‡<code>.environment(\.colorScheme, .dark)</code> é¢„è®¾é¢œè‰²æ¨¡å¼</p></blockquote><img src="/.io//05/10/SwiftUI-PreviewProvider/PreviewProvider_01.jpg" class title="[title]"><blockquote><p>é€šè¿‡<code>.previewDevice(&quot;iPhone 8&quot;)</code> é¢„è®¾è®¾å¤‡<br>é€šè¿‡<code>.previewLayout(.sizeThatFits)</code> é¢„è®¾å°ºå¯¸</p></blockquote><img src="/.io//05/10/SwiftUI-PreviewProvider/PreviewProvider_02.jpg" class title="[title2]">]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;æœ¬ä¾‹ä¸»è¦æ¼”ç¤ºå¦‚ä½•åœ¨SiwftUI å®ç°ä¸åŒé¢œè‰²ä¸»é¢˜ï¼Œä¸åŒè®¾å¤‡ï¼ŒåŠå°ºå¯¸çš„å®æ—¶é¢„è§ˆ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1ã€åˆ›å»ºä¸€ä¸ªåŸºç¡€çš„ContentView&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ViewModifierå¤ç”¨ç»„ä»¶æ ·å¼</title>
    <link href="http://tttyyyzzz2020.ghthub.io/2020/04/10/SwiftUI-custome-modifier/"/>
    <id>http://tttyyyzzz2020.ghthub.io/2020/04/10/SwiftUI-custome-modifier/</id>
    <published>2020-04-10T07:18:43.000Z</published>
    <updated>2020-08-30T02:53:57.984Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å¦‚ä½•å®ç°"><a href="#å¦‚ä½•å®ç°" class="headerlink" title="å¦‚ä½•å®ç°"></a>å¦‚ä½•å®ç°</h3><p>1ã€é¦–å…ˆåˆ›å»ºè‡ªå®šä¹‰modifer <code>CustomTextBorder</code>ï¼Œ éœ€è¦è®©ç»“æ„æç»§æ‰¿ <code>ViewModifier</code> åè®®ï¼Œå†å®ç°åè®®ä¸­çš„<code>func body()</code>æ–¹æ³•ï¼Œå…¶ä¸­çš„<code>content</code> å°±æ˜¯viewæœ¬èº«ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨contentä¸Šé¢åº”ç”¨ç³»ç»Ÿçš„æä¾›çš„modifierå¦‚<code>.font()</code>, <code>.padding()</code>ç­‰æ¥è£…é¥°æˆ‘ä»¬çš„ç»„ä»¶â€¦</p><p>è¿™æ ·æˆ‘ä¹ˆå°±åˆ›å»ºäº†ä¸€ä¸ªç®€æ˜“çš„è‡ªå®šä¹‰ä¿®é¥°ç¬¦</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. ç»§æ‰¿viewModifier</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CustomTextBorder</span>: <span class="title">ViewModifier</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">body</span><span class="params">(content: Content)</span></span> -&gt; some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="comment">// 2. ç¼–å†™bodyä½“ä»£ç </span></span><br><span class="line">        <span class="keyword">return</span> content</span><br><span class="line">            .font(.largeTitle)</span><br><span class="line">            .padding()</span><br><span class="line">            .overlay(</span><br><span class="line">                <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">15</span>)</span><br><span class="line">                    .stroke(lineWidth: <span class="number">2</span>)</span><br><span class="line">            )</span><br><span class="line">            .foregroundColor(.blue)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€ ä½¿ç”¨è‡ªå®šä¹‰modifierå¾ˆç®€å•ï¼Œç›´æ¥åœ¨è°ƒç”¨<code>.modifier()</code> ä¼ å…¥æˆ‘ä»¬è‡ªå®šä¹‰çš„ <code>CustomTextBorder()</code> å°±å¯ä»¥äº†</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">"SwiftUI Tutorials"</span>)</span><br><span class="line">            .modifier(<span class="type">CustomTextBorder</span>())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3ã€ ä½†æ›´å¥½çš„æ–¹å¼ï¼Œæ˜¯æˆ‘ä»¬é€šå¸¸ä¼šå°†è‡ªå®šä¹‰modifier æ‰©å±•åˆ° <code>View</code> ä¸Š ï¼Œä½¿å¾—è°ƒç”¨çš„æ–¹å¼æ›´åŠ ç®€æ´</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">customTextBorder</span><span class="params">()</span></span> -&gt; some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.modifier(<span class="type">CustomTextBorder</span>())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4ã€åç»­åº”ç”¨æ–¹å¼å°±å¯ä»¥å¦‚ä¸‹è°ƒç”¨äº†ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">Text</span>(<span class="string">"SwiftUI Tutorials"</span>)</span><br><span class="line">    .customTextBorder()</span><br></pre></td></tr></table></figure><blockquote><p>æœ€åæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªè‡ªå®šä¹‰æŒ‰é’®çš„æ —å­æ¥ä½œä¸ºç¤ºèŒƒã€‚ã€‚ã€‚ã€‚ğŸŒ°</p></blockquote><h3 id="ç¤ºä¾‹ï¼šModifier-è‡ªå®šä¹‰æŒ‰é’®çš„æ ·å¼"><a href="#ç¤ºä¾‹ï¼šModifier-è‡ªå®šä¹‰æŒ‰é’®çš„æ ·å¼" class="headerlink" title="ç¤ºä¾‹ï¼šModifier è‡ªå®šä¹‰æŒ‰é’®çš„æ ·å¼"></a>ç¤ºä¾‹ï¼šModifier è‡ªå®šä¹‰æŒ‰é’®çš„æ ·å¼</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">HStack</span> &#123;</span><br><span class="line">            <span class="type">Button</span>(action: &#123;</span><br><span class="line">                </span><br><span class="line">            &#125;) &#123;</span><br><span class="line">                <span class="type">Text</span>(<span class="string">"Continue"</span>)</span><br><span class="line">                    .modifier(<span class="type">CustomeButtonModifer</span>())</span><br><span class="line">                </span><br><span class="line">                <span class="type">Text</span>(<span class="string">"MoreDetail"</span>)</span><br><span class="line">                    .modifier(<span class="type">CustomeButtonModifer</span>(backgroundColor: .green))</span><br><span class="line">                </span><br><span class="line">                <span class="type">Text</span>(<span class="string">"Cancel"</span>)</span><br><span class="line">                    .modifier(<span class="type">CustomeButtonModifer</span>(backgroundColor: .red, size: <span class="number">20</span>))</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CustomeButtonModifer</span>: <span class="title">ViewModifier</span> </span>&#123;</span><br><span class="line">    @<span class="type">State</span> <span class="keyword">var</span> backgroundColor: <span class="type">Color</span> = <span class="type">Color</span>.blue</span><br><span class="line">    @<span class="type">State</span> <span class="keyword">var</span> size: <span class="type">CGFloat</span> = <span class="number">16</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">body</span><span class="params">(content: Content)</span></span> -&gt; some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> content</span><br><span class="line">            .foregroundColor(<span class="type">Color</span>.white)</span><br><span class="line">            .font(.system(size: <span class="keyword">self</span>.size ))</span><br><span class="line">            .padding(.vertical,<span class="number">5</span>)</span><br><span class="line">            .padding(.horizontal,<span class="number">14</span>)</span><br><span class="line">            .background(<span class="keyword">self</span>.backgroundColor)</span><br><span class="line">            .overlay(</span><br><span class="line">                <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">5</span>)</span><br><span class="line">                    .strokeBorder(style: <span class="type">StrokeStyle</span>(lineWidth:<span class="number">1</span>))</span><br><span class="line">                    .foregroundColor(<span class="type">Color</span>(.sRGB, red: <span class="number">0.1</span>, green: <span class="number">0.1</span>, blue: <span class="number">0.1</span>, opacity: <span class="number">1</span>)))</span><br><span class="line">            .cornerRadius(<span class="number">5</span>)</span><br><span class="line">            .shadow(radius: <span class="number">5</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView_Previews</span>: <span class="title">PreviewProvider</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ContentView</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŒ‰é’®æ•ˆæœå¦‚å›¾ï¼š</p><img src="/.io//04/10/SwiftUI-custome-modifier/01.jpg" class><blockquote><p>æ›´å¤šå‚è€ƒèµ„æ–™ï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v&#x3D;7sosLx-wzBE</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;å¦‚ä½•å®ç°&quot;&gt;&lt;a href=&quot;#å¦‚ä½•å®ç°&quot; class=&quot;headerlink&quot; title=&quot;å¦‚ä½•å®ç°&quot;&gt;&lt;/a&gt;å¦‚ä½•å®ç°&lt;/h3&gt;&lt;p&gt;1ã€é¦–å…ˆåˆ›å»ºè‡ªå®šä¹‰modifer &lt;code&gt;CustomTextBorder&lt;/code&gt;ï¼Œ éœ€è¦è®©ç»“æ„æç»§æ‰¿ &lt;code
      
    
    </summary>
    
    
    
      <category term="SwiftUI, Swift" scheme="http://tttyyyzzz2020.ghthub.io/tags/SwiftUI-Swift/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨@PropertyWrapperåˆ›å»ºè‡ªå®šä¹‰å±æ€§åŒ…è£…å™¨</title>
    <link href="http://tttyyyzzz2020.ghthub.io/2020/03/14/SwiftUI-PropertyWrapper/"/>
    <id>http://tttyyyzzz2020.ghthub.io/2020/03/14/SwiftUI-PropertyWrapper/</id>
    <published>2020-03-14T10:06:37.000Z</published>
    <updated>2020-08-30T02:55:09.296Z</updated>
    
    <content type="html"><![CDATA[<h2 id="PropertyWrapperçš„ç®€è¿°"><a href="#PropertyWrapperçš„ç®€è¿°" class="headerlink" title="@PropertyWrapperçš„ç®€è¿°"></a>@PropertyWrapperçš„ç®€è¿°</h2><blockquote><p><code>@PropertyWrapper</code>çš„ä¸»è¦ä½œç”¨ï¼Œæ˜¯å¯ä»¥å¯¹åœ¨åŸå§‹çš„å±æ€§å˜é‡ï¼Œæ·»åŠ ä¸€ä¸ªåˆ†ç¦»å±‚ï¼Œä½¿å¾—å¯¹å±æ€§çš„è·å–å’Œè®¾ç½®æ›´ç»†å¾®è‡ªç”±ï¼Œ ä»è€Œç§»é™¤ä¸€äº›é‡å¤æˆ–ç±»ä¼¼çš„ä»£ç ã€‚</p></blockquote><p> åœ¨swiftUIä¸­ï¼Œå·²ç»æœ‰å¾ˆå¤šå®šä¹‰å¥½çš„åŒ…è£…å™¨äº†ã€‚</p> <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> @<span class="type">State</span>.</span><br><span class="line"> <span class="comment">//å¯ä»¥å°†å±æ€§ç»‘å®šåˆ°viewè§†å›¾ï¼Œå®ç°ä¸ç•Œé¢å®æ—¶å“åº”</span></span><br><span class="line"> @<span class="type">Binding</span>.</span><br><span class="line"><span class="comment">//å¯ä»¥å°†çˆ¶çº§çš„å±æ€§é€šè¿‡$ä¼ è¾“ç»‘å®šåˆ°å­çº§</span></span><br><span class="line"> @<span class="type">ObservedObject</span>.</span><br><span class="line"><span class="comment">//å’Œ@Stateç±»åŒï¼Œä½†å®ƒç»‘å®šçš„å€¼æ˜¯éœ€è¦ç»§æ‰¿è‡ªObservableObjectåè®®ï¼Œä¸”å¿…é¡»ä¸ºç±»çš„æ–¹å¼å®ç°ï¼Œå…¶ä¸­@Publisehd ä¿®é¥°çš„å±æ€§å°†ä¼šä¸viewè§†å›¾åŒæ­¥å“åº”</span></span><br><span class="line"> @<span class="type">Published</span>.</span><br><span class="line"><span class="comment">//å®šä¹‰åœ¨ObservableObjectçš„ç±»ä¸­ï¼Œå®ƒåŒ…è£…çš„å±æ€§ï¼Œåœ¨å€¼å˜åŒ–çš„æ—¶å€™å°±ä¼šè°ƒç”¨objectWillChangeæ–¹æ³•å‘å‡ºé€šçŸ¥</span></span><br><span class="line"> @<span class="type">EnvironmentObject</span>.</span><br><span class="line"><span class="comment">//ä¸ @ObservedObjectç›¸ä¼¼ï¼Œä½†å®ƒå¯ä»¥ä½¿å¾—å¤šä¸ªè§†å›¾ä¹‹é—´å…±äº«æ•°æ®ï¼Œè€Œæ— éœ€é€šè¿‡å±æ€§é€çº§ä¼ é€’</span></span><br><span class="line"> @<span class="type">Environment</span>.</span><br><span class="line"><span class="comment">//å¯ä»¥æ³¨å…¥ç³»ç»Ÿæœ¬çœçš„ç¯ç´§ä¿¡æ¯ï¼Œå¦‚è®¾å¤‡ä¿¡æ¯ï¼Œä¸»é¢˜è‰²ï¼Œå¸ƒå±€ï¼Œè§†å›¾å°ºå¯¸</span></span><br></pre></td></tr></table></figure><p>é™¤äº†ä½¿ç”¨ç³»ç»Ÿæä¾›çš„åŒ…è½¬å™¨ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªè¡Œå®šä¹‰å±æ€§åŒ…è£…å™¨ã€‚</p><h2 id="è‡ªå®šä¹‰ä¸€ä¸ªå±æ€§åŒ…è£…å™¨"><a href="#è‡ªå®šä¹‰ä¸€ä¸ªå±æ€§åŒ…è£…å™¨" class="headerlink" title="è‡ªå®šä¹‰ä¸€ä¸ªå±æ€§åŒ…è£…å™¨"></a>è‡ªå®šä¹‰ä¸€ä¸ªå±æ€§åŒ…è£…å™¨</h2><p> ä¸»è¦çš„æ­¥éª¤å¦‚ä¸‹</p><p> 1.ç”¨<code>@propertyWrapper</code>ä¿®é¥°ä¸€ä¸ª<code>struct,class</code>æˆ–<code>enum</code><br> 2.å®šä¹‰ä¸€ä¸ª<code>wrappedValue</code>å±æ€§å¹¶å®ç°å®ƒçš„<code>getter</code>å’Œ<code>setter</code>æ–¹æ³•ï¼Œå®Œæˆæˆ‘ä»¬æƒ³è¦çš„é€»è¾‘<br> 3.è¿˜å¯ä»¥è‡ªè¡Œå®šä¹‰ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•ï¼Œæ¥å¯¹<code>wrappedValue</code>è¿›è¡Œåˆå§‹åŒ–è®¾ç½®<br> 4.ä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªå¯é€‰çš„<code>projectedValue</code>å±æ€§æ˜ å°„ï¼Œ å¦‚æœè¦è·å–å®ƒå…³è”çš„å€¼éœ€è¦ä½¿ç”¨$ç¬¦å·<br> 5.ä½¿ç”¨å±æ€§åŒ…è£…çš„è¯­æ³•æ˜¯åŠ ä¸Š<code>@</code>ç¬¦å·æ¥ä¸ŠåŒ…è£…å™¨åç§°</p><h4 id="æ —å­1-è½¬å¤§å†™çš„åŒ…è£…å™¨-Uppercased"><a href="#æ —å­1-è½¬å¤§å†™çš„åŒ…è£…å™¨-Uppercased" class="headerlink" title="æ —å­1: è½¬å¤§å†™çš„åŒ…è£…å™¨@Uppercased"></a>æ —å­1: è½¬å¤§å†™çš„åŒ…è£…å™¨<code>@Uppercased</code></h4><blockquote><p>åˆ›å»ºä¸€ä¸ª<code>@Uppercased</code>çš„åŒ…è£…å™¨ï¼Œ åŠŸèƒ½æ˜¯å°†å­˜çš„å€¼è½¬ä¸ºå¤§å†™</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@propertyWrapper</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Uppercased</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> text: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> wrappedValue: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; text.uppercased() &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123; text = newValue &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">init</span>(wrappedValue: <span class="type">String</span>)  &#123;</span><br><span class="line">        <span class="keyword">self</span>.text = wrappedValue</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    @<span class="type">Uppercased</span> <span class="keyword">var</span> username: <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = <span class="type">User</span>(username: <span class="string">"alfianlo"</span>)</span><br><span class="line"><span class="built_in">print</span>(user.username) <span class="comment">// ALFIANLO</span></span><br></pre></td></tr></table></figure><p>ä»£ç è¯´æ˜ï¼š</p><blockquote><ol><li>åœ¨<code>@Uppercased</code>åŒ…è£…å™¨ä¸­çœŸæ­£å­˜å€¼çš„æ˜¯<code>text</code>å±æ€§</li><li>è€Œæˆ‘ä»¬è®¿é—®å’Œæ“ä½œçš„éƒ½æ˜¯<code>wrappedValue</code>ï¼Œ åœ¨è·å–æ—¶å€™ä¼šå°†<code>text</code>çš„å€¼è½¬å¤§å†™åè¿”å›</li><li>åœ¨åŒ…è£…å™¨åˆå§‹åŒ–æ—¶å€™æˆ‘ä»¬ä¼šè®¾ç½®textçš„å€¼</li><li>åœ¨Userä¸­ä½¿ç”¨<code>@Uppercased</code>åŒ…è£…äº†<code>username</code>,æ‰€ä»¥<code>username</code>çš„å€¼åœ¨è·å–æ—¶å€™å°±ä¼šè½¬ä¸ºå¤§å†™</li></ol></blockquote><h4 id="æ —å­2-é™å®šæ•°å€¼å¤§å°çš„åŒ…è£…å™¨-Ranged"><a href="#æ —å­2-é™å®šæ•°å€¼å¤§å°çš„åŒ…è£…å™¨-Ranged" class="headerlink" title="æ —å­2: é™å®šæ•°å€¼å¤§å°çš„åŒ…è£…å™¨@Ranged"></a>æ —å­2: é™å®šæ•°å€¼å¤§å°çš„åŒ…è£…å™¨<code>@Ranged</code></h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@propertyWrapper</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Ranged</span>&lt;<span class="title">T</span>: <span class="title">Comparable</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> minimum: <span class="type">T</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> maximum: <span class="type">T</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> value: <span class="type">T</span></span><br><span class="line">    <span class="keyword">var</span> wrappedValue: <span class="type">T</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; value &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> newValue &gt; maximum &#123;</span><br><span class="line">                value = maximum</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> newValue &lt; minimum &#123;</span><br><span class="line">                value = minimum</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                value = newValue</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">init</span>(wrappedValue: <span class="type">T</span>, minimum: <span class="type">T</span>, maximum: <span class="type">T</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.minimum = minimum</span><br><span class="line">        <span class="keyword">self</span>.maximum = maximum</span><br><span class="line">        <span class="keyword">self</span>.value = wrappedValue</span><br><span class="line">        <span class="keyword">self</span>.wrappedValue = wrappedValue</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Form</span> </span>&#123;</span><br><span class="line">    @<span class="type">Ranged</span>(minimum: <span class="number">17</span>, maximum: <span class="number">65</span>) <span class="keyword">var</span> age: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> form = <span class="type">Form</span>()</span><br><span class="line">form.age = <span class="number">100</span> <span class="comment">// 65</span></span><br><span class="line">form.age = <span class="number">2</span> <span class="comment">// 17</span></span><br></pre></td></tr></table></figure><p>ä»£ç è¯´æ˜ï¼š</p><blockquote><p>1.<code>@Ranged</code>åŒ…è£…å™¨çš„åŠŸèƒ½æ˜¯é™å®šå±æ€§å–å€¼çš„æœ€å¤§å’Œæœ€å°å€¼ã€‚<br>2.åŒ…è£…å™¨çš„<code>init</code>æ–¹æ³•æ¥æ”¶äº†2ä¸ªå‚æ•°ï¼Œè¿™æ ·åœ¨ä½¿ç”¨æ—¶å°±å¯ä»¥çµæ´»æ§åˆ¶å–å€¼çš„èŒƒå›´ã€‚</p></blockquote><h4 id="æ —å­3-åŒ…è£…å™¨å€¼çš„æ˜ å°„"><a href="#æ —å­3-åŒ…è£…å™¨å€¼çš„æ˜ å°„" class="headerlink" title="æ —å­3: åŒ…è£…å™¨å€¼çš„æ˜ å°„"></a>æ —å­3: åŒ…è£…å™¨å€¼çš„æ˜ å°„</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@propertyWrapper</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ISO8601DateFormatted</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">private</span> <span class="keyword">let</span> formatter = <span class="type">ISO8601DateFormatter</span>()</span><br><span class="line">    <span class="keyword">var</span> projectedValue: <span class="type">String</span> &#123; <span class="type">ISO8601DateFormatted</span>.formatter.string(from: wrappedValue) &#125;</span><br><span class="line">    <span class="keyword">var</span> wrappedValue: <span class="type">Date</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Form</span> </span>&#123;</span><br><span class="line">    @<span class="type">ISO8601DateFormatted</span> <span class="keyword">var</span> lastLoginAt: <span class="type">Date</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = <span class="type">Form</span>(lastLoginAt: <span class="type">Date</span>())</span><br><span class="line"><span class="built_in">print</span>(user.$lastLoginAt) <span class="comment">// "2020-07-11T10:54:42Z"</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢çš„çš„åŒ…è£…å™¨ä¸­æˆ‘ä»¬æ·»åŠ åŠ çš„<code>projectedValue</code>ä½œä¸ºæ˜ å°„, å½“éœ€è¦è®¿é—®<code>wrappedValue</code>å¯ä»¥é€šè¿‡<code>$</code>åŠ ä¸Šå±æ€§åçš„æ–¹å¼è®¿é—®å¤„ç†åçš„å€¼ï¼Œ åœ¨è¿™ä¸ªçš„æ —å­æˆ‘ä»¬åœ¨è¯»å–<code>warppedValue</code>å­˜å‚¨çš„æ—¥æœŸæ—¶åï¼Œéƒ½ä¼šç»è¿‡<code>ISO8601DateFormatter</code>çš„æ ¼å¼åŒ–å¤„ç†</p></blockquote><h4 id="æ —å­4-æœ¬åœ°å­˜å‚¨åŒ…è£…å™¨-UserDefault"><a href="#æ —å­4-æœ¬åœ°å­˜å‚¨åŒ…è£…å™¨-UserDefault" class="headerlink" title="æ —å­4: æœ¬åœ°å­˜å‚¨åŒ…è£…å™¨@UserDefault"></a>æ —å­4: æœ¬åœ°å­˜å‚¨åŒ…è£…å™¨<code>@UserDefault</code></h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@propertyWrapper</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">UserDefault</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> key: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> initialValue: <span class="type">T</span></span><br><span class="line">    <span class="keyword">var</span> wrappedValue: <span class="type">T</span> &#123;</span><br><span class="line">        <span class="keyword">set</span> &#123; <span class="type">UserDefaults</span>.standard.<span class="keyword">set</span>(newValue, forKey: key) &#125;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="type">UserDefaults</span>.standard.object(forKey: key) <span class="keyword">as</span>? <span class="type">T</span> ?? initialValue &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">UserPreferences</span> </span>&#123;</span><br><span class="line">    @<span class="type">UserDefault</span>(key: <span class="string">"isCheatModeEnabled"</span>, initialValue: <span class="literal">false</span>) <span class="keyword">static</span> <span class="keyword">var</span> isCheatModeEnabled: <span class="type">Bool</span></span><br><span class="line">    @<span class="type">UserDefault</span>(key: <span class="string">"highestScore"</span>, initialValue: <span class="number">10000</span>) <span class="keyword">static</span> <span class="keyword">var</span> highestScore: <span class="type">Int</span></span><br><span class="line">    @<span class="type">UserDefault</span>(key: <span class="string">"nickname"</span>, initialValue: <span class="string">"cloudstrife97"</span>) <span class="keyword">static</span> <span class="keyword">var</span> nickname: <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">UserPreferences</span>.isCheatModeEnabled = <span class="literal">true</span></span><br><span class="line"><span class="type">UserPreferences</span>.highestScore = <span class="number">25000</span></span><br><span class="line"><span class="type">UserPreferences</span>.nickname = <span class="string">"squallleonhart"</span></span><br></pre></td></tr></table></figure><blockquote><p>æœ€åè¿™ä¸ªæ —å­ï¼Œ æ˜¯ä¸€ä¸ªä½¿ç”¨å±æ€§åŒ…è£…å™¨ç®€åŒ–ä¸åŒç±»å‹æ•°æ®æœ¬åœ°å­˜å‚¨çš„ä»£ç ã€‚ä½¿ç”¨<code>@UserDefault</code>ä¿®é¥°è¿‡çš„å±æ€§ï¼Œåœ¨è·å–å’Œè®¾ç½®æ—¶éƒ½ä¼šåŒæ­¥ä¿å­˜åœ¨æœ¬åœ°å­˜å‚¨ä¸­ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;PropertyWrapperçš„ç®€è¿°&quot;&gt;&lt;a href=&quot;#PropertyWrapperçš„ç®€è¿°&quot; class=&quot;headerlink&quot; title=&quot;@PropertyWrapperçš„ç®€è¿°&quot;&gt;&lt;/a&gt;@PropertyWrapperçš„ç®€è¿°&lt;/h2&gt;&lt;blockq
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨@autoclosure è‡ªåŠ¨é—­åŒ…ï¼Œç®€åŒ–å‡½æ•°è°ƒç”¨çš„è¯­æ³•</title>
    <link href="http://tttyyyzzz2020.ghthub.io/2020/02/12/SwiftUI-autoclosures/"/>
    <id>http://tttyyyzzz2020.ghthub.io/2020/02/12/SwiftUI-autoclosures/</id>
    <published>2020-02-12T04:25:56.000Z</published>
    <updated>2020-08-30T02:53:07.557Z</updated>
    
    <content type="html"><![CDATA[<h2 id="autoclosureä¸»è¦ç”¨å¤„"><a href="#autoclosureä¸»è¦ç”¨å¤„" class="headerlink" title="@autoclosureä¸»è¦ç”¨å¤„"></a>@autoclosureä¸»è¦ç”¨å¤„</h2><blockquote></blockquote><p>1ã€<code>@autoclosure</code> è‡ªåŠ¨é—­åŒ…ï¼Œä¸»è¦çš„ä½œç”¨æ˜¯å¯ä»¥ç®€åŒ–ä¹¦å†™çš„è¯­æ³•ã€‚<br>2ã€<code>@autoclosure</code> ä¿®é¥°çš„é—­åŒ…å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥ä»¥å‚æ•°è°ƒç”¨è‡ªåŠ¨å±•å¼€ï¼Œè€Œä¸å†éœ€è¦æ˜¾ç¤ºçš„åˆ›å»ºé—­åŒ…ã€‚<br>3ã€<code>@autoclosure</code> ä¿®é¥°çš„é—­åŒ…åªèƒ½æ˜¯å‚æ•°ï¼Œä½†å…¶æœ¬èº«æ˜¯ä¸èƒ½å¸¦æœ‰å‚æ•°çš„ã€‚</p><blockquote><p>æ™®é€šé—­åŒ…å‚æ•°</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">logIftrue</span><span class="params">(<span class="number">_</span> predicate:<span class="params">()</span></span></span> -&gt; <span class="type">Bool</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> predicate() &#123;</span><br><span class="line">        <span class="built_in">print</span>(#function)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">logIftrue&#123; <span class="number">1</span> &lt; <span class="number">2</span> &#125;   <span class="comment">//æ˜¾ç¤ºè°ƒç”¨æ–¹å¼</span></span><br></pre></td></tr></table></figure><blockquote><p><code>@autoclosure</code>ä¿®é¥°çš„é—­åŒ…å‚æ•°</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">logIfTrueWithAutoclosure</span><span class="params">(<span class="number">_</span> predicate: @autoclosure <span class="params">()</span></span></span> -&gt; <span class="type">Bool</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> predicate() &#123;</span><br><span class="line">        <span class="built_in">print</span>(#function)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">logIfTrueWithAutoclosure( <span class="number">1</span> &lt; <span class="number">2</span> )   <span class="comment">//ä»¥å‚æ•°è°ƒç”¨æ–¹å¼</span></span><br></pre></td></tr></table></figure><blockquote><p>åœ¨è¿™<code>logIfTrueWithAutoclosure</code>å‡½æ•°ä¸­ï¼Œå‚æ•°<code>predicate</code>æœ¬æ˜¯ä¸€ä¸ªé—­åŒ…å‡½æ•°ï¼Œä½†ç°åœ¨æˆ‘æ¯‹éœ€æ˜¾ç¤ºåˆ›å»ºé—­åŒ…ä½“ã€‚å¯ä»¥åªä¹¦å†™å‡½æ•°ä½“è¡¨è¾¾å¼æˆ–è€…è¿”å›å€¼ï¼Œåªéœ€ç¡®ä¿ç±»å‹ä¸º<code>Bool</code>å³å¯</p></blockquote><h2 id="Swiftæ ‡å‡†åº“ä¸­-autoclosure-åº”ç”¨"><a href="#Swiftæ ‡å‡†åº“ä¸­-autoclosure-åº”ç”¨" class="headerlink" title="Swiftæ ‡å‡†åº“ä¸­ @autoclosure åº”ç”¨"></a>Swiftæ ‡å‡†åº“ä¸­ @autoclosure åº”ç”¨</h2><blockquote><p>Swiftä¸­çš„é—­åŒ…å…·æœ‰å»¶æ—¶è°ƒç”¨çš„ç‰¹æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨éœ€è¦æ±‚å€¼æ—¶æ‰è¿ç®—,æ‰€ä»¥æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹??è¿ç®—ç¬¦çš„å®ç°ï¼Œå®ƒå…¶ä¸­çš„ <code>defaultValue</code> å‚æ•°åªåœ¨ç¬¬ä¸€ä¸ªå‚æ•°<code>nil</code>æ‰è¿›è¡Œè¿ç®—æ±‚å€¼ã€‚å…¶æ¬¡ç”¨äº†<code>@autoclosure</code>ä¿®é¥°ï¼Œä½¿å¾—å¯ä»¥éšå¼è°ƒç”¨é—­åŒ…è·å–å€¼ï¼Œä¹¦å†™è¯­æ³•ä¹Ÿå˜å¾—æ›´ä¸ºç®€æ´  <code>a ?? 1</code></p></blockquote><pre><code class="swift"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> ?? &lt;T&gt;<span class="params">(<span class="keyword">optional</span>: T?, defaultValue: @autoclosure <span class="params">()</span></span></span> <span class="keyword">throws</span> -&gt; <span class="type">T</span>)    <span class="keyword">rethrows</span> -&gt; <span class="type">T</span> {        <span class="keyword">switch</span> <span class="keyword">optional</span> {        <span class="keyword">case</span> .some(<span class="keyword">let</span> value):            <span class="keyword">return</span> value        <span class="keyword">case</span> .<span class="keyword">none</span>:            <span class="keyword">return</span> <span class="keyword">try</span> defaultValue()        }}</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;autoclosureä¸»è¦ç”¨å¤„&quot;&gt;&lt;a href=&quot;#autoclosureä¸»è¦ç”¨å¤„&quot; class=&quot;headerlink&quot; title=&quot;@autoclosureä¸»è¦ç”¨å¤„&quot;&gt;&lt;/a&gt;@autoclosureä¸»è¦ç”¨å¤„&lt;/h2&gt;&lt;blockquote&gt;
&lt;/bloc
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>info.plist åŠŸèƒ½å¯¹ç…§è¡¨</title>
    <link href="http://tttyyyzzz2020.ghthub.io/2020/01/08/info.plist%20%E5%AF%B9%E7%85%A7%E8%A1%A8/"/>
    <id>http://tttyyyzzz2020.ghthub.io/2020/01/08/info.plist%20%E5%AF%B9%E7%85%A7%E8%A1%A8/</id>
    <published>2020-01-08T02:18:40.000Z</published>
    <updated>2020-08-30T02:43:36.360Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ·»åŠ è‡ªå®šä¹‰å­—ä½“ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>UIAppFonts<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>PatuaOne-Regular.ttf<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å…è®¸httpsè¯·æ±‚ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSAppTransportSecurity<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSAllowsArbitraryLoads<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>ã€ES6ã€‘æ•°ç»„æ–¹æ³•å¤§å…¨</title>
    <link href="http://tttyyyzzz2020.ghthub.io/2017/08/12/ES6-Array/"/>
    <id>http://tttyyyzzz2020.ghthub.io/2017/08/12/ES6-Array/</id>
    <published>2017-08-12T04:25:56.000Z</published>
    <updated>2020-08-30T02:57:24.150Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æ–¹æ³•é›†åˆ"><a href="#æ–¹æ³•é›†åˆ" class="headerlink" title="æ–¹æ³•é›†åˆ"></a>æ–¹æ³•é›†åˆ</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from()               </span><br><span class="line"><span class="built_in">Array</span>.isArray()</span><br><span class="line"><span class="built_in">Array</span>.of()</span><br><span class="line"><span class="built_in">Array</span>.prototype.concat() </span><br><span class="line"><span class="built_in">Array</span>.prototype.copyWithin()</span><br><span class="line"><span class="built_in">Array</span>.prototype.entries()</span><br><span class="line"><span class="built_in">Array</span>.prototype.every()</span><br><span class="line"><span class="built_in">Array</span>.prototype.fill()     </span><br><span class="line"><span class="built_in">Array</span>.prototype.filter()</span><br><span class="line"><span class="built_in">Array</span>.prototype.find()</span><br><span class="line"><span class="built_in">Array</span>.prototype.findIndex()</span><br><span class="line"><span class="built_in">Array</span>.prototype.flatMap()</span><br><span class="line"><span class="built_in">Array</span>.prototype.forEach()</span><br><span class="line"><span class="built_in">Array</span>.prototype.includes()</span><br><span class="line"><span class="built_in">Array</span>.prototype.indexOf()</span><br><span class="line"><span class="built_in">Array</span>.prototype.join()</span><br><span class="line"><span class="built_in">Array</span>.prototype.keys()</span><br><span class="line"><span class="built_in">Array</span>.prototype.lastIndexOf()</span><br><span class="line"><span class="built_in">Array</span>.prototype.map()</span><br><span class="line"><span class="built_in">Array</span>.prototype.pop()</span><br><span class="line"><span class="built_in">Array</span>.prototype.push()</span><br><span class="line"><span class="built_in">Array</span>.prototype.reduce()</span><br><span class="line"><span class="built_in">Array</span>.prototype.reduceRight()</span><br><span class="line"><span class="built_in">Array</span>.prototype.reverse()</span><br><span class="line"><span class="built_in">Array</span>.prototype.shift()</span><br><span class="line"><span class="built_in">Array</span>.prototype.slice()</span><br><span class="line"><span class="built_in">Array</span>.prototype.some()</span><br><span class="line"><span class="built_in">Array</span>.prototype.sort()</span><br><span class="line"><span class="built_in">Array</span>.prototype.splice()</span><br><span class="line"><span class="built_in">Array</span>.prototype.toLocaleString()</span><br><span class="line"><span class="built_in">Array</span>.prototype.toSource()</span><br><span class="line"><span class="built_in">Array</span>.prototype.toString()</span><br><span class="line"><span class="built_in">Array</span>.prototype.unshift()</span><br><span class="line"><span class="built_in">Array</span>.prototype.values()</span><br></pre></td></tr></table></figure><p>MDNç½‘å€ï¼š</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array</a></p><h1 id="æ•°ç»„åˆ›å»º"><a href="#æ•°ç»„åˆ›å»º" class="headerlink" title="æ•°ç»„åˆ›å»º"></a>æ•°ç»„åˆ›å»º</h1><h3 id="Array-from-ç±»ä¼¼æ•°ç»„è½¬æ•°ç»„"><a href="#Array-from-ç±»ä¼¼æ•°ç»„è½¬æ•°ç»„" class="headerlink" title="Array.from ç±»ä¼¼æ•°ç»„è½¬æ•°ç»„"></a>Array.from ç±»ä¼¼æ•°ç»„è½¬æ•°ç»„</h3><blockquote><p>æ–¹æ³•ä»ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œæµ…æ‹·è´çš„æ•°ç»„å®ä¾‹ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.from(<span class="string">'foo'</span>));</span><br><span class="line"><span class="comment">// expected output: Array ["f", "o", "o"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.from([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], x =&gt; x + x));</span><br><span class="line"><span class="comment">// expected output: Array [2, 4, 6]</span></span><br></pre></td></tr></table></figure><h3 id="Array-of-æ„å»ºæ•°ç»„"><a href="#Array-of-æ„å»ºæ•°ç»„" class="headerlink" title="Array.of æ„å»ºæ•°ç»„"></a>Array.of æ„å»ºæ•°ç»„</h3><blockquote><p>æ–¹æ³•åˆ›å»ºä¸€ä¸ªå…·æœ‰å¯å˜æ•°é‡å‚æ•°çš„æ–°æ•°ç»„å®ä¾‹ï¼Œè€Œä¸è€ƒè™‘å‚æ•°çš„æ•°é‡æˆ–ç±»å‹ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.of(<span class="number">7</span>);       <span class="comment">// [7] </span></span><br><span class="line"><span class="built_in">Array</span>.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">7</span>);          <span class="comment">// [ , , , , , , ]</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);    <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure><h3 id="fill-æ•°ç»„å¡«å……ï¼Œå¯æŒ‡å®šå¡«å……ä½ç½®"><a href="#fill-æ•°ç»„å¡«å……ï¼Œå¯æŒ‡å®šå¡«å……ä½ç½®" class="headerlink" title="fill æ•°ç»„å¡«å……ï¼Œå¯æŒ‡å®šå¡«å……ä½ç½®"></a>fill æ•°ç»„å¡«å……ï¼Œå¯æŒ‡å®šå¡«å……ä½ç½®</h3><blockquote><p>æ–¹æ³•ç”¨ä¸€ä¸ªå›ºå®šå€¼å¡«å……ä¸€ä¸ªæ•°ç»„ä¸­ä»èµ·å§‹ç´¢å¼•åˆ°ç»ˆæ­¢ç´¢å¼•å†…çš„å…¨éƒ¨å…ƒç´ ã€‚ä¸åŒ…æ‹¬ç»ˆæ­¢ç´¢å¼•ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// fill with 0 from position 2 until position 4</span></span><br><span class="line"><span class="built_in">console</span>.log(array1.fill(<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>));</span><br><span class="line"><span class="comment">// expected output: [1, 2, 0, 0]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// fill with 5 from position 1</span></span><br><span class="line"><span class="built_in">console</span>.log(array1.fill(<span class="number">5</span>, <span class="number">1</span>));</span><br><span class="line"><span class="comment">// expected output: [1, 5, 5, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array1.fill(<span class="number">6</span>));</span><br><span class="line"><span class="comment">// expected output: [6, 6, 6, 6]</span></span><br></pre></td></tr></table></figure><h3 id="concat-åˆå¹¶æ•°ç»„"><a href="#concat-åˆå¹¶æ•°ç»„" class="headerlink" title="concat åˆå¹¶æ•°ç»„"></a>concat åˆå¹¶æ•°ç»„</h3><blockquote><p> æ–¹æ³•ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ã€‚æ­¤æ–¹æ³•ä¸ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">const</span> array2 = [<span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>];</span><br><span class="line"><span class="keyword">const</span> array3 = array1.concat(array2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array3);</span><br><span class="line"><span class="comment">// expected output: Array ["a", "b", "c", "d", "e", "f"]</span></span><br></pre></td></tr></table></figure><h3 id="copyWithin-æµ…å¤åˆ¶æ•°ç»„å…ƒç´ "><a href="#copyWithin-æµ…å¤åˆ¶æ•°ç»„å…ƒç´ " class="headerlink" title="copyWithin æµ…å¤åˆ¶æ•°ç»„å…ƒç´ "></a>copyWithin æµ…å¤åˆ¶æ•°ç»„å…ƒç´ </h3><blockquote><p>æ–¹æ³•æµ…å¤åˆ¶æ•°ç»„çš„ä¸€éƒ¨åˆ†åˆ°åŒä¸€æ•°ç»„ä¸­çš„å¦ä¸€ä¸ªä½ç½®ï¼Œå¹¶è¿”å›å®ƒï¼Œä¸ä¼šæ”¹å˜åŸæ•°ç»„çš„é•¿åº¦ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// copy to index 0 the element at index 3</span></span><br><span class="line"><span class="built_in">console</span>.log(array1.copyWithin(<span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>));</span><br><span class="line"><span class="comment">// expected output: Array ["d", "b", "c", "d", "e"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// copy to index 1 all elements from index 3 to the end</span></span><br><span class="line"><span class="built_in">console</span>.log(array1.copyWithin(<span class="number">1</span>, <span class="number">3</span>));</span><br><span class="line"><span class="comment">// expected output: Array ["d", "d", "e", "d", "e"]</span></span><br></pre></td></tr></table></figure><h1 id="æ•°ç»„éå†"><a href="#æ•°ç»„éå†" class="headerlink" title="æ•°ç»„éå†"></a>æ•°ç»„éå†</h1><h3 id="forEach-éå†æ•°ç»„-ä¸å¯ä¸­æ­¢"><a href="#forEach-éå†æ•°ç»„-ä¸å¯ä¸­æ­¢" class="headerlink" title="forEach éå†æ•°ç»„,ä¸å¯ä¸­æ­¢"></a>forEach éå†æ•°ç»„,ä¸å¯ä¸­æ­¢</h3><blockquote><p>æ–¹æ³•å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡ç»™å®šçš„å‡½æ•°ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"></span><br><span class="line">array1.forEach(<span class="function"><span class="params">element</span> =&gt;</span> <span class="built_in">console</span>.log(element));</span><br><span class="line"></span><br><span class="line"><span class="comment">// expected output: "a"</span></span><br><span class="line"><span class="comment">// expected output: "b"</span></span><br><span class="line"><span class="comment">// expected output: "c"</span></span><br></pre></td></tr></table></figure><h3 id="keys-é”®åè¿­ä»£å™¨"><a href="#keys-é”®åè¿­ä»£å™¨" class="headerlink" title="keys é”®åè¿­ä»£å™¨"></a>keys é”®åè¿­ä»£å™¨</h3><blockquote><p> æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•é”®çš„Array Iteratorå¯¹è±¡ã€‚</p></blockquote><blockquote><p>è¿”å›å€¼å¯ä»¥è¢«foréå†ï¼Œä½†å¹¶ä¸æ˜¯æ•°ç»„ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, , <span class="string">"c"</span>];</span><br><span class="line"><span class="keyword">var</span> sparseKeys = <span class="built_in">Object</span>.keys(arr);</span><br><span class="line"><span class="keyword">var</span> denseKeys = [...arr.keys()];</span><br><span class="line"><span class="built_in">console</span>.log(sparseKeys); <span class="comment">// ['0', '2']</span></span><br><span class="line"><span class="built_in">console</span>.log(denseKeys);  <span class="comment">// [0, 1, 2]</span></span><br></pre></td></tr></table></figure><h3 id="values-å€¼æ•°ç»„"><a href="#values-å€¼æ•°ç»„" class="headerlink" title="values å€¼æ•°ç»„"></a>values å€¼æ•°ç»„</h3><blockquote><p>æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„ Array Iterator å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«æ•°ç»„æ¯ä¸ªç´¢å¼•çš„å€¼</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">const</span> iterator = array1.values();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> value <span class="keyword">of</span> iterator) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// expected output: "a"</span></span><br><span class="line"><span class="comment">// expected output: "b"</span></span><br><span class="line"><span class="comment">// expected output: "c"</span></span><br></pre></td></tr></table></figure><h3 id="entries-æ•°ç»„è¿­ä»£å™¨-é”®å€¼å¯¹"><a href="#entries-æ•°ç»„è¿­ä»£å™¨-é”®å€¼å¯¹" class="headerlink" title="entries æ•°ç»„è¿­ä»£å™¨(é”®å€¼å¯¹)"></a>entries æ•°ç»„è¿­ä»£å™¨(é”®å€¼å¯¹)</h3><blockquote><p>æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„Array Iteratorå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•çš„é”®/å€¼å¯¹ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> iterator1 = array1.entries();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(iterator1.next().value);</span><br><span class="line"><span class="comment">// expected output: Array [0, "a"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(iterator1.next().value);</span><br><span class="line"><span class="comment">// expected output: Array [1, "b"]</span></span><br></pre></td></tr></table></figure><h1 id="æ•°ç»„ç´¢å¼•ï¼Œå…ƒç´ æŸ¥æ‰¾"><a href="#æ•°ç»„ç´¢å¼•ï¼Œå…ƒç´ æŸ¥æ‰¾" class="headerlink" title="æ•°ç»„ç´¢å¼•ï¼Œå…ƒç´ æŸ¥æ‰¾"></a>æ•°ç»„ç´¢å¼•ï¼Œå…ƒç´ æŸ¥æ‰¾</h1><h3 id="find-æŸ¥æ‰¾å…ƒç´ -æœªæ‰¾åˆ°è¿”å›undefined"><a href="#find-æŸ¥æ‰¾å…ƒç´ -æœªæ‰¾åˆ°è¿”å›undefined" class="headerlink" title="find æŸ¥æ‰¾å…ƒç´ , æœªæ‰¾åˆ°è¿”å›undefined"></a>find æŸ¥æ‰¾å…ƒç´ , æœªæ‰¾åˆ°è¿”å›undefined</h3><blockquote><p>æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚å¦åˆ™è¿”å› undefinedã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">5</span>, <span class="number">12</span>, <span class="number">8</span>, <span class="number">130</span>, <span class="number">44</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> found = array1.find(<span class="function"><span class="params">element</span> =&gt;</span> element &gt; <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(found);</span><br><span class="line"><span class="comment">// expected output: 12</span></span><br></pre></td></tr></table></figure><h3 id="findIndex-æŸ¥æ‰¾ç´¢å¼•-æœªæ‰¾åˆ°è¿”å›-1"><a href="#findIndex-æŸ¥æ‰¾ç´¢å¼•-æœªæ‰¾åˆ°è¿”å›-1" class="headerlink" title="findIndex æŸ¥æ‰¾ç´¢å¼•, æœªæ‰¾åˆ°è¿”å›-1"></a>findIndex æŸ¥æ‰¾ç´¢å¼•, æœªæ‰¾åˆ°è¿”å›-1</h3><blockquote><p>å‚æ•°ï¼šæ˜¯ä¸€ä¸ªæ£€æµ‹å‡½æ•°</p></blockquote><blockquote><p>æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ã€‚è‹¥æ²¡æœ‰æ‰¾åˆ°å¯¹åº”å…ƒç´ åˆ™è¿”å›-1ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">5</span>, <span class="number">12</span>, <span class="number">8</span>, <span class="number">130</span>, <span class="number">44</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> isLargeNumber = <span class="function">(<span class="params">element</span>) =&gt;</span> element &gt; <span class="number">13</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array1.findIndex(isLargeNumber));</span><br><span class="line"><span class="comment">// expected output: 3</span></span><br></pre></td></tr></table></figure><h3 id="indexOf-æŸ¥æ‰¾ç´¢å¼•ï¼Œæœªæ‰¾åˆ°è¿”å›-1"><a href="#indexOf-æŸ¥æ‰¾ç´¢å¼•ï¼Œæœªæ‰¾åˆ°è¿”å›-1" class="headerlink" title="indexOf æŸ¥æ‰¾ç´¢å¼•ï¼Œæœªæ‰¾åˆ°è¿”å›-1"></a>indexOf æŸ¥æ‰¾ç´¢å¼•ï¼Œæœªæ‰¾åˆ°è¿”å›-1</h3><blockquote><p>å‚æ•°ï¼šç¬¬ä¸€ä¸ªæ˜¯è¦æ‰¾çš„å…ƒç´ ï¼Œç¬¬äºŒä¸ªæ˜¯å¼€å§‹çš„ç´¢å¼•ã€‚</p></blockquote><blockquote><p>æ–¹æ³•è¿”å›åœ¨æ•°ç»„ä¸­å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªç»™å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1ã€‚</p></blockquote><blockquote><p>å’ŒfindIndexçš„åŒºåˆ«æ˜¯ï¼Œè¯¥æ–¹æ³•éœ€è¦æå‰çŸ¥é“è¦æŸ¥æ‰¾çš„å…ƒç´ ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> beasts = [<span class="string">'ant'</span>, <span class="string">'bison'</span>, <span class="string">'camel'</span>, <span class="string">'duck'</span>, <span class="string">'bison'</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(beasts.indexOf(<span class="string">'bison'</span>));</span><br><span class="line"><span class="comment">// expected output: 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// start from index 2</span></span><br><span class="line"><span class="built_in">console</span>.log(beasts.indexOf(<span class="string">'bison'</span>, <span class="number">2</span>));</span><br><span class="line"><span class="comment">// expected output: 4</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(beasts.indexOf(<span class="string">'giraffe'</span>));</span><br><span class="line"><span class="comment">// expected output: -1</span></span><br></pre></td></tr></table></figure><h3 id="lastIndexOf-æŸ¥æ‰¾ç´¢å¼•ï¼Œæœªæ‰¾åˆ°è¿”å›-1-ä»åå¾€å‰æ‰¾"><a href="#lastIndexOf-æŸ¥æ‰¾ç´¢å¼•ï¼Œæœªæ‰¾åˆ°è¿”å›-1-ä»åå¾€å‰æ‰¾" class="headerlink" title="lastIndexOf  æŸ¥æ‰¾ç´¢å¼•ï¼Œæœªæ‰¾åˆ°è¿”å›-1  (ä»åå¾€å‰æ‰¾)"></a>lastIndexOf  æŸ¥æ‰¾ç´¢å¼•ï¼Œæœªæ‰¾åˆ°è¿”å›-1  (ä»åå¾€å‰æ‰¾)</h3><blockquote><p>ç”¨æ³•ï¼š ä¸indexOf ç›¸åŒ</p></blockquote><blockquote><p>lastIndexOf() æ–¹æ³•è¿”å›æŒ‡å®šå…ƒç´ ï¼ˆä¹Ÿå³æœ‰æ•ˆçš„ JavaScript å€¼æˆ–å˜é‡ï¼‰åœ¨æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªçš„ç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› -1ã€‚ä»æ•°ç»„çš„åé¢å‘å‰æŸ¥æ‰¾ï¼Œä» fromIndex å¤„å¼€å§‹ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const animals &#x3D; [&#39;Dodo&#39;, &#39;Tiger&#39;, &#39;Penguin&#39;, &#39;Dodo&#39;];</span><br><span class="line"></span><br><span class="line">console.log(animals.lastIndexOf(&#39;Dodo&#39;));</span><br><span class="line">&#x2F;&#x2F; expected output: 3</span><br><span class="line"></span><br><span class="line">console.log(animals.lastIndexOf(&#39;Tiger&#39;));</span><br><span class="line">&#x2F;&#x2F; expected output: 1</span><br></pre></td></tr></table></figure><h1 id="æ•°ç»„æ·»åŠ åˆ é™¤"><a href="#æ•°ç»„æ·»åŠ åˆ é™¤" class="headerlink" title="æ•°ç»„æ·»åŠ åˆ é™¤"></a>æ•°ç»„æ·»åŠ åˆ é™¤</h1><h3 id="pop-åˆ é™¤æœ€åä¸€ä¸ª-å¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼"><a href="#pop-åˆ é™¤æœ€åä¸€ä¸ª-å¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼" class="headerlink" title="pop åˆ é™¤æœ€åä¸€ä¸ª, å¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼"></a>pop åˆ é™¤æœ€åä¸€ä¸ª, å¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼</h3><blockquote><p>æ–¹æ³•ä»æ•°ç»„ä¸­åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼ã€‚æ­¤æ–¹æ³•æ›´æ”¹æ•°ç»„çš„é•¿åº¦ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> plants = [<span class="string">'broccoli'</span>, <span class="string">'cauliflower'</span>, <span class="string">'cabbage'</span>, <span class="string">'kale'</span>, <span class="string">'tomato'</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(plants.pop());</span><br><span class="line"><span class="comment">// expected output: "tomato"</span></span><br></pre></td></tr></table></figure><h3 id="push-åœ¨æœ«ä½æ·»åŠ -è¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦ã€‚"><a href="#push-åœ¨æœ«ä½æ·»åŠ -è¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦ã€‚" class="headerlink" title="push åœ¨æœ«ä½æ·»åŠ , è¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦ã€‚"></a>push åœ¨æœ«ä½æ·»åŠ , è¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦ã€‚</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> animals = [<span class="string">'pigs'</span>, <span class="string">'goats'</span>, <span class="string">'sheep'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> count = animals.push(<span class="string">'cows'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(count);</span><br><span class="line"><span class="comment">// expected output: 4</span></span><br><span class="line"><span class="built_in">console</span>.log(animals);</span><br><span class="line"><span class="comment">// expected output: Array ["pigs", "goats", "sheep", "cows"]</span></span><br><span class="line"></span><br><span class="line">animals.push(<span class="string">'chickens'</span>, <span class="string">'cats'</span>, <span class="string">'dogs'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(animals);</span><br><span class="line"><span class="comment">// expected output: Array ["pigs", "goats", "sheep", "cows", "chickens", "cats", "dogs"]</span></span><br></pre></td></tr></table></figure><h3 id="shift-åˆ é™¤ç¬¬ä¸€ä¸ª-å¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼"><a href="#shift-åˆ é™¤ç¬¬ä¸€ä¸ª-å¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼" class="headerlink" title="shift åˆ é™¤ç¬¬ä¸€ä¸ª, å¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼"></a>shift åˆ é™¤ç¬¬ä¸€ä¸ª, å¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼</h3><blockquote><p>æ–¹æ³•ä»æ•°ç»„ä¸­åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼ã€‚æ­¤æ–¹æ³•æ›´æ”¹æ•°ç»„çš„é•¿åº¦ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> firstElement = array1.shift();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array1);</span><br><span class="line"><span class="comment">// expected output: Array [2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(firstElement);</span><br><span class="line"><span class="comment">// expected output: 1</span></span><br></pre></td></tr></table></figure><h3 id="unshift-å¤´éƒ¨æ·»åŠ å…ƒç´ ï¼Œå¹¶è¿”å›é•¿åº¦"><a href="#unshift-å¤´éƒ¨æ·»åŠ å…ƒç´ ï¼Œå¹¶è¿”å›é•¿åº¦" class="headerlink" title="unshift å¤´éƒ¨æ·»åŠ å…ƒç´ ï¼Œå¹¶è¿”å›é•¿åº¦"></a>unshift å¤´éƒ¨æ·»åŠ å…ƒç´ ï¼Œå¹¶è¿”å›é•¿åº¦</h3><blockquote><p>æ–¹æ³•å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„å¼€å¤´ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦(è¯¥æ–¹æ³•ä¿®æ”¹åŸæœ‰æ•°ç»„)ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array1.unshift(<span class="number">4</span>, <span class="number">5</span>));</span><br><span class="line"><span class="comment">// expected output: 5</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array1);</span><br><span class="line"><span class="comment">// expected output: Array [4, 5, 1, 2, 3]</span></span><br></pre></td></tr></table></figure><h3 id="slice-æµ…æ‹·è´-æ•°ç»„åˆ‡ç‰‡ï¼Œ-ä¸æ”¹å˜åŸæ•°ç»„"><a href="#slice-æµ…æ‹·è´-æ•°ç»„åˆ‡ç‰‡ï¼Œ-ä¸æ”¹å˜åŸæ•°ç»„" class="headerlink" title="slice  æµ…æ‹·è´ æ•°ç»„åˆ‡ç‰‡ï¼Œ ä¸æ”¹å˜åŸæ•°ç»„"></a>slice  æµ…æ‹·è´ æ•°ç»„åˆ‡ç‰‡ï¼Œ ä¸æ”¹å˜åŸæ•°ç»„</h3><blockquote><p>slice() æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡æ˜¯ä¸€ä¸ªç”± begin å’Œ end å†³å®šçš„åŸæ•°ç»„çš„æµ…æ‹·è´ï¼ˆåŒ…æ‹¬ beginï¼Œä¸åŒ…æ‹¬endï¼‰ã€‚åŸå§‹æ•°ç»„ä¸ä¼šè¢«æ”¹å˜ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> animals = [<span class="string">'ant'</span>, <span class="string">'bison'</span>, <span class="string">'camel'</span>, <span class="string">'duck'</span>, <span class="string">'elephant'</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(animals.slice(<span class="number">2</span>));</span><br><span class="line"><span class="comment">// expected output: Array ["camel", "duck", "elephant"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(animals.slice(<span class="number">2</span>, <span class="number">4</span>));</span><br><span class="line"><span class="comment">// expected output: Array ["camel", "duck"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(animals.slice(<span class="number">1</span>, <span class="number">5</span>));</span><br><span class="line"><span class="comment">// expected output: Array ["bison", "camel", "duck", "elephant"]</span></span><br></pre></td></tr></table></figure><h3 id="splice-åˆ é™¤ï¼Œæ›¿æ¢ï¼Œæˆ–åŸåœ°æ·»åŠ æ–°å…ƒç´ "><a href="#splice-åˆ é™¤ï¼Œæ›¿æ¢ï¼Œæˆ–åŸåœ°æ·»åŠ æ–°å…ƒç´ " class="headerlink" title="splice åˆ é™¤ï¼Œæ›¿æ¢ï¼Œæˆ–åŸåœ°æ·»åŠ æ–°å…ƒç´ "></a>splice åˆ é™¤ï¼Œæ›¿æ¢ï¼Œæˆ–åŸåœ°æ·»åŠ æ–°å…ƒç´ </h3><blockquote><p>æ–¹æ³•é€šè¿‡åˆ é™¤æˆ–æ›¿æ¢ç°æœ‰å…ƒç´ æˆ–è€…åŸåœ°æ·»åŠ æ–°çš„å…ƒç´ æ¥ä¿®æ”¹æ•°ç»„,å¹¶ä»¥æ•°ç»„å½¢å¼è¿”å›è¢«ä¿®æ”¹çš„å†…å®¹ã€‚æ­¤æ–¹æ³•ä¼šæ”¹å˜åŸæ•°ç»„ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> months = [<span class="string">'Jan'</span>, <span class="string">'March'</span>, <span class="string">'April'</span>, <span class="string">'June'</span>];</span><br><span class="line">months.splice(<span class="number">1</span>, <span class="number">0</span>, <span class="string">'Feb'</span>);</span><br><span class="line"><span class="comment">// inserts at index 1</span></span><br><span class="line"><span class="built_in">console</span>.log(months);</span><br><span class="line"><span class="comment">// expected output: Array ["Jan", "Feb", "March", "April", "June"]</span></span><br><span class="line"></span><br><span class="line">months.splice(<span class="number">4</span>, <span class="number">1</span>, <span class="string">'May'</span>);</span><br><span class="line"><span class="comment">// replaces 1 element at index 4</span></span><br><span class="line"><span class="built_in">console</span>.log(months);</span><br><span class="line"><span class="comment">// expected output: Array ["Jan", "Feb", "March", "April", "May"]</span></span><br></pre></td></tr></table></figure><h1 id="æ•°ç»„åˆ¤æ–­"><a href="#æ•°ç»„åˆ¤æ–­" class="headerlink" title="æ•°ç»„åˆ¤æ–­"></a>æ•°ç»„åˆ¤æ–­</h1><h3 id="isArray-åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„"><a href="#isArray-åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„" class="headerlink" title="isArray åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„"></a>isArray åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„</h3><blockquote><p>ç”¨äºç¡®å®šä¼ é€’çš„å€¼æ˜¯å¦æ˜¯ä¸€ä¸ª Arrayã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.isArray([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);  </span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(&#123;<span class="attr">foo</span>: <span class="number">123</span>&#125;); </span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="string">"foobar"</span>);   </span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="literal">undefined</span>);  </span><br><span class="line"><span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="every-æ•°ç»„çš„æ¯ä¸€é¡¹éƒ½é€šè¿‡æ£€æµ‹ï¼Œåˆ™ä¸ºtrue"><a href="#every-æ•°ç»„çš„æ¯ä¸€é¡¹éƒ½é€šè¿‡æ£€æµ‹ï¼Œåˆ™ä¸ºtrue" class="headerlink" title="every æ•°ç»„çš„æ¯ä¸€é¡¹éƒ½é€šè¿‡æ£€æµ‹ï¼Œåˆ™ä¸ºtrue"></a>every æ•°ç»„çš„æ¯ä¸€é¡¹éƒ½é€šè¿‡æ£€æµ‹ï¼Œåˆ™ä¸ºtrue</h3><blockquote><p>æ–¹æ³•æµ‹è¯•ä¸€ä¸ªæ•°ç»„å†…çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½èƒ½é€šè¿‡æŸä¸ªæŒ‡å®šå‡½æ•°çš„æµ‹è¯•ã€‚å®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isBelowThreshold = <span class="function">(<span class="params">currentValue</span>) =&gt;</span> currentValue &lt; <span class="number">40</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">30</span>, <span class="number">39</span>, <span class="number">29</span>, <span class="number">10</span>, <span class="number">13</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array1.every(isBelowThreshold));</span><br><span class="line"><span class="comment">// expected output: true</span></span><br></pre></td></tr></table></figure><h3 id="some-åªè¦æ•°ç»„çš„æŸä¸€é¡¹é€šè¿‡æ£€æµ‹ï¼Œåˆ™ä¸ºtrue"><a href="#some-åªè¦æ•°ç»„çš„æŸä¸€é¡¹é€šè¿‡æ£€æµ‹ï¼Œåˆ™ä¸ºtrue" class="headerlink" title="some åªè¦æ•°ç»„çš„æŸä¸€é¡¹é€šè¿‡æ£€æµ‹ï¼Œåˆ™ä¸ºtrue"></a>some åªè¦æ•°ç»„çš„æŸä¸€é¡¹é€šè¿‡æ£€æµ‹ï¼Œåˆ™ä¸ºtrue</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// checks whether an element is even</span></span><br><span class="line"><span class="keyword">const</span> even = <span class="function">(<span class="params">element</span>) =&gt;</span> element % <span class="number">2</span> === <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array.some(even));</span><br><span class="line"><span class="comment">// expected output: true</span></span><br></pre></td></tr></table></figure><h3 id="includes-æ•°ç»„åŒ…å«æŸä¸ªå€¼ï¼Œåˆ™ä¸ºtrue"><a href="#includes-æ•°ç»„åŒ…å«æŸä¸ªå€¼ï¼Œåˆ™ä¸ºtrue" class="headerlink" title="includes æ•°ç»„åŒ…å«æŸä¸ªå€¼ï¼Œåˆ™ä¸ºtrue"></a>includes æ•°ç»„åŒ…å«æŸä¸ªå€¼ï¼Œåˆ™ä¸ºtrue</h3><blockquote><p>æ–¹æ³•ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼Œæ ¹æ®æƒ…å†µï¼Œå¦‚æœåŒ…å«åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å›falseã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].includes(<span class="number">2</span>);     <span class="comment">// true</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].includes(<span class="number">4</span>);     <span class="comment">// false</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].includes(<span class="number">3</span>, <span class="number">3</span>);  <span class="comment">// false</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].includes(<span class="number">3</span>, <span class="number">-1</span>); <span class="comment">// true</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="literal">NaN</span>].includes(<span class="literal">NaN</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¡ˆä¾‹ï¼š é€šç”¨çš„includes() åˆ¤æ–­arguments</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log([].includes.call(<span class="built_in">arguments</span>, <span class="string">'a'</span>)); <span class="comment">// true</span></span><br><span class="line">  <span class="built_in">console</span>.log([].includes.call(<span class="built_in">arguments</span>, <span class="string">'d'</span>)); <span class="comment">// false</span></span><br><span class="line">&#125;)(<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>);</span><br></pre></td></tr></table></figure><h1 id="è¿‡æ»¤å’Œè½¬åŒ–"><a href="#è¿‡æ»¤å’Œè½¬åŒ–" class="headerlink" title="è¿‡æ»¤å’Œè½¬åŒ–"></a>è¿‡æ»¤å’Œè½¬åŒ–</h1><h3 id="fileter-ç­›é€‰è¿‡æ»¤æ•°ç»„"><a href="#fileter-ç­›é€‰è¿‡æ»¤æ•°ç»„" class="headerlink" title="fileter ç­›é€‰è¿‡æ»¤æ•°ç»„"></a>fileter ç­›é€‰è¿‡æ»¤æ•°ç»„</h3><blockquote><p>æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„, å…¶åŒ…å«é€šè¿‡æ‰€æä¾›å‡½æ•°å®ç°çš„æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ ã€‚ </p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> words = [<span class="string">'spray'</span>, <span class="string">'limit'</span>, <span class="string">'elite'</span>, <span class="string">'exuberant'</span>, <span class="string">'destruction'</span>, <span class="string">'present'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = words.filter(<span class="function"><span class="params">word</span> =&gt;</span> word.length &gt; <span class="number">6</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="comment">// expected output: Array ["exuberant", "destruction", "present"]</span></span><br></pre></td></tr></table></figure><h3 id="map-éå†æ•°ç»„ï¼Œå‡½æ•°è¿”å›å€¼ä½œä¸ºæ–°çš„æ•°ç»„"><a href="#map-éå†æ•°ç»„ï¼Œå‡½æ•°è¿”å›å€¼ä½œä¸ºæ–°çš„æ•°ç»„" class="headerlink" title="map éå†æ•°ç»„ï¼Œå‡½æ•°è¿”å›å€¼ä½œä¸ºæ–°çš„æ•°ç»„"></a>map éå†æ•°ç»„ï¼Œå‡½æ•°è¿”å›å€¼ä½œä¸ºæ–°çš„æ•°ç»„</h3><blockquote><p>æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯è°ƒç”¨ä¸€æ¬¡æä¾›çš„å‡½æ•°åçš„è¿”å›å€¼ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// pass a function to map</span></span><br><span class="line"><span class="keyword">const</span> map1 = array1.map(<span class="function"><span class="params">x</span> =&gt;</span> x * <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(map1);</span><br><span class="line"><span class="comment">// expected output: Array [2, 8, 18, 32]</span></span><br></pre></td></tr></table></figure><h3 id="flat-é€’å½’å±•å¼€æ•°ç»„"><a href="#flat-é€’å½’å±•å¼€æ•°ç»„" class="headerlink" title="flat() é€’å½’å±•å¼€æ•°ç»„"></a>flat() é€’å½’å±•å¼€æ•°ç»„</h3><blockquote><p>æ–¹æ³•ä¼šæŒ‰ç…§ä¸€ä¸ªå¯æŒ‡å®šçš„æ·±åº¦é€’å½’éå†æ•°ç»„ï¼Œå¹¶å°†æ‰€æœ‰å…ƒç´ ä¸éå†åˆ°çš„å­æ•°ç»„ä¸­çš„å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ•°ç»„è¿”å›ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>]];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr1.flat());</span><br><span class="line"><span class="comment">// expected output: [0, 1, 2, 3, 4]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, [[[<span class="number">3</span>, <span class="number">4</span>]]]];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr2.flat(<span class="number">2</span>));</span><br><span class="line"><span class="comment">// expected output: [0, 1, 2, [3, 4]]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¡ˆä¾‹ï¼š ä½¿ç”¨ Infinityï¼Œå¯å±•å¼€ä»»æ„æ·±åº¦çš„åµŒå¥—æ•°ç»„</span></span><br><span class="line"><span class="keyword">var</span> arr4 = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>, [<span class="number">5</span>, <span class="number">6</span>, [<span class="number">7</span>, <span class="number">8</span>, [<span class="number">9</span>, <span class="number">10</span>]]]]];</span><br><span class="line">arr4.flat(<span class="literal">Infinity</span>);</span><br><span class="line"><span class="comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¡ˆä¾‹ï¼š ä¼šå»é™¤ç©ºçš„é€‰é¡¹</span></span><br><span class="line"><span class="keyword">var</span> arr4 = [<span class="number">1</span>, <span class="number">2</span>, , <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">arr4.flat();</span><br><span class="line"><span class="comment">// [1, 2, 4, 5]111</span></span><br></pre></td></tr></table></figure><h3 id="flatMap-æ·±åº¦ä¸º1å±•å¼€æ•°ç»„ï¼Œè¿”å›å€¼ç»„æˆæ–°æ•°ç»„ã€‚"><a href="#flatMap-æ·±åº¦ä¸º1å±•å¼€æ•°ç»„ï¼Œè¿”å›å€¼ç»„æˆæ–°æ•°ç»„ã€‚" class="headerlink" title="flatMap() æ·±åº¦ä¸º1å±•å¼€æ•°ç»„ï¼Œè¿”å›å€¼ç»„æˆæ–°æ•°ç»„ã€‚"></a>flatMap() æ·±åº¦ä¸º1å±•å¼€æ•°ç»„ï¼Œè¿”å›å€¼ç»„æˆæ–°æ•°ç»„ã€‚</h3><blockquote><p>æ˜¯flat(1) å’Œ map() çš„ç»“åˆ,åˆ©ç”¨è¿”å›[], å¯åŠ¨æ€æ§åˆ¶æ•°ç»„é•¿åº¦<br>ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯å›è°ƒå‡½æ•°çš„ç»“æœï¼Œå¹¶ä¸”ç»“æ„æ·±åº¦ depth å€¼ä¸º1ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">arr1.map(<span class="function"><span class="params">x</span> =&gt;</span> [x * <span class="number">2</span>]); </span><br><span class="line"><span class="comment">// [[2], [4], [6], [8]]</span></span><br><span class="line"></span><br><span class="line">arr1.flatMap(<span class="function"><span class="params">x</span> =&gt;</span> [x * <span class="number">2</span>]);</span><br><span class="line"><span class="comment">// [2, 4, 6, 8]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// only one level is flattened</span></span><br><span class="line">arr1.flatMap(<span class="function"><span class="params">x</span> =&gt;</span> [[x * <span class="number">2</span>]]);</span><br><span class="line"><span class="comment">// [[2], [4], [6], [8]]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¡ˆä¾‹ï¼š æ‹†åˆ†æ•°ç»„ä¸­çš„å•è¯</span></span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="string">"it's Sunny in"</span>, <span class="string">""</span>, <span class="string">"California"</span>];</span><br><span class="line"></span><br><span class="line">arr1.map(<span class="function"><span class="params">x</span> =&gt;</span> x.split(<span class="string">" "</span>));</span><br><span class="line"><span class="comment">// [["it's","Sunny","in"],[""],["California"]]</span></span><br><span class="line"></span><br><span class="line">arr1.flatMap(<span class="function"><span class="params">x</span> =&gt;</span> x.split(<span class="string">" "</span>));</span><br><span class="line"><span class="comment">// ["it's","Sunny","in", "", "California"]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¡ˆä¾‹ï¼š åŠ¨æ€æ§åˆ¶å…ƒç´ æ•°é‡</span></span><br><span class="line"><span class="comment">// Let's say we want to remove all the negative numbers and split the odd numbers into an even number and a 1</span></span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">5</span>, <span class="number">4</span>, <span class="number">-3</span>, <span class="number">20</span>, <span class="number">17</span>, <span class="number">-33</span>, <span class="number">-4</span>, <span class="number">18</span>]</span><br><span class="line"><span class="comment">//       |\  \  x   |  | \   x   x   |</span></span><br><span class="line"><span class="comment">//      [4,1, 4,   20, 16, 1,       18]</span></span><br><span class="line"></span><br><span class="line">a.flatMap( <span class="function">(<span class="params">n</span>) =&gt;</span></span><br><span class="line">  (n &lt; <span class="number">0</span>) ?      [] :</span><br><span class="line">  (n % <span class="number">2</span> == <span class="number">0</span>) ? [n] :</span><br><span class="line">                 [n<span class="number">-1</span>, <span class="number">1</span>]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// expected output: [4, 1, 4, 20, 16, 1, 18]</span></span><br></pre></td></tr></table></figure><h3 id="reduce-éå†æ•°ç»„ï¼Œç”¨å‡½æ•°ç´¯è®¡å‡é˜¶ï¼Œå¹¶æ±‡æ€»ç»“æœ"><a href="#reduce-éå†æ•°ç»„ï¼Œç”¨å‡½æ•°ç´¯è®¡å‡é˜¶ï¼Œå¹¶æ±‡æ€»ç»“æœ" class="headerlink" title="reduce éå†æ•°ç»„ï¼Œç”¨å‡½æ•°ç´¯è®¡å‡é˜¶ï¼Œå¹¶æ±‡æ€»ç»“æœ"></a>reduce éå†æ•°ç»„ï¼Œç”¨å‡½æ•°ç´¯è®¡å‡é˜¶ï¼Œå¹¶æ±‡æ€»ç»“æœ</h3><blockquote><p>[0, 1, 2, 3, 4].reduce(function(accumulator, currentValue, currentIndex, array){<br>  return accumulator + currentValue;<br>});</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">accumulator, currentValue, currentIndex, array</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> accumulator + currentValue;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="reduceRight"><a href="#reduceRight" class="headerlink" title="reduceRight"></a>reduceRight</h3><blockquote><p>reduceRight() æ–¹æ³•æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºç´¯åŠ å™¨ï¼ˆaccumulatorï¼‰å’Œæ•°ç»„çš„æ¯ä¸ªå€¼ï¼ˆä»å³åˆ°å·¦ï¼‰å°†å…¶å‡å°‘ä¸ºå•ä¸ªå€¼ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]].reduceRight(</span><br><span class="line">  (accumulator, currentValue) =&gt; accumulator.concat(currentValue)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array1);</span><br><span class="line"><span class="comment">// expected output: Array [4, 5, 2, 3, 0, 1]</span></span><br></pre></td></tr></table></figure><h1 id="æ’åºå’Œåè½¬"><a href="#æ’åºå’Œåè½¬" class="headerlink" title="æ’åºå’Œåè½¬"></a>æ’åºå’Œåè½¬</h1><h3 id="sort-æ’åº"><a href="#sort-æ’åº" class="headerlink" title="sort æ’åº"></a>sort æ’åº</h3><blockquote><p>sort() æ–¹æ³•ç”¨åŸåœ°ç®—æ³•å¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œå¹¶è¿”å›æ•°ç»„ã€‚é»˜è®¤æ’åºé¡ºåºæ˜¯åœ¨å°†å…ƒç´ è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åæ¯”è¾ƒå®ƒä»¬çš„UTF-16ä»£ç å•å…ƒå€¼åºåˆ—æ—¶æ„å»ºçš„</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> months = [<span class="string">'March'</span>, <span class="string">'Jan'</span>, <span class="string">'Feb'</span>, <span class="string">'Dec'</span>];</span><br><span class="line">months.sort();</span><br><span class="line"><span class="built_in">console</span>.log(months);</span><br><span class="line"><span class="comment">// expected output: Array ["Dec", "Feb", "Jan", "March"]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">30</span>, <span class="number">4</span>, <span class="number">21</span>, <span class="number">100000</span>];</span><br><span class="line">array1.sort();</span><br><span class="line"><span class="built_in">console</span>.log(array1);</span><br><span class="line"><span class="comment">// expected output: Array [1, 100000, 21, 30, 4]</span></span><br></pre></td></tr></table></figure><h3 id="reverse-æ•°ç»„åè½¬"><a href="#reverse-æ•°ç»„åè½¬" class="headerlink" title="reverse æ•°ç»„åè½¬"></a>reverse æ•°ç»„åè½¬</h3><blockquote><p>reverse() æ–¹æ³•å°†æ•°ç»„ä¸­å…ƒç´ çš„ä½ç½®é¢ å€’ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„ã€‚æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¼šå˜æˆæœ€åä¸€ä¸ªï¼Œæ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ å˜æˆç¬¬ä¸€ä¸ªã€‚è¯¥æ–¹æ³•ä¼šæ”¹å˜åŸæ•°ç»„ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'array1:'</span>, array1);</span><br><span class="line"><span class="comment">// expected output: "array1:" Array ["one", "two", "three"]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> reversed = array1.reverse();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'reversed:'</span>, reversed);</span><br><span class="line"><span class="comment">// expected output: "reversed:" Array ["three", "two", "one"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Careful: reverse is destructive -- it changes the original array.</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'array1:'</span>, array1);</span><br><span class="line"><span class="comment">// expected output: "array1:" Array ["three", "two", "one"]</span></span><br></pre></td></tr></table></figure><h1 id="æ•°ç»„å’Œå­—ç¬¦ä¸²"><a href="#æ•°ç»„å’Œå­—ç¬¦ä¸²" class="headerlink" title="æ•°ç»„å’Œå­—ç¬¦ä¸²"></a>æ•°ç»„å’Œå­—ç¬¦ä¸²</h1><h3 id="join-æ•°ç»„è½¬å­—ç¬¦ä¸²"><a href="#join-æ•°ç»„è½¬å­—ç¬¦ä¸²" class="headerlink" title="join æ•°ç»„è½¬å­—ç¬¦ä¸²"></a>join æ•°ç»„è½¬å­—ç¬¦ä¸²</h3><blockquote><p>æ–¹æ³•å°†ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼‰çš„æ‰€æœ‰å…ƒç´ è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›è¿™ä¸ªå­—ç¬¦ä¸²ã€‚å¦‚æœæ•°ç»„åªæœ‰ä¸€ä¸ªé¡¹ç›®ï¼Œé‚£ä¹ˆå°†è¿”å›è¯¥é¡¹ç›®è€Œä¸ä½¿ç”¨åˆ†éš”ç¬¦ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> elements = [<span class="string">'Fire'</span>, <span class="string">'Air'</span>, <span class="string">'Water'</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(elements.join());</span><br><span class="line"><span class="comment">// expected output: "Fire,Air,Water"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(elements.join(<span class="string">''</span>));</span><br><span class="line"><span class="comment">// expected output: "FireAirWater"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(elements.join(<span class="string">'-'</span>));</span><br><span class="line"><span class="comment">// expected output: "Fire-Air-Water"</span></span><br></pre></td></tr></table></figure><h3 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h3><blockquote><p>è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæŒ‡å®šçš„æ•°ç»„åŠå…¶å…ƒç´ ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="string">'a'</span>, <span class="string">'1a'</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array1.toString());</span><br><span class="line"><span class="comment">// expected output: "1,2,a,1a"</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;æ–¹æ³•é›†åˆ&quot;&gt;&lt;a href=&quot;#æ–¹æ³•é›†åˆ&quot; class=&quot;headerlink&quot; title=&quot;æ–¹æ³•é›†åˆ&quot;&gt;&lt;/a&gt;æ–¹æ³•é›†åˆ&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;
      
    
    </summary>
    
    
    
  </entry>
  
</feed>
