<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> typealiasç±»å‹åˆ«åå’Œassociatedtypeç±»å‹å ä½ Â· tttyyyzzz2020</title><meta name="description" content="typealiasç±»å‹åˆ«åå’Œassociatedtypeç±»å‹å ä½ - yongzhan"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="../../../../favicon.png"><link rel="stylesheet" href="../../../../css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://tttyyyzzz2020.ghthub.io/atom.xml" title="tttyyyzzz2020"><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="atom.xml" title="tttyyyzzz2020" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="../../../../index.html" class="logo-link"><img src="../../../../favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="../../../../index.html" target="_self" class="nav-list-link">POSTS</a></li><li class="nav-list-item"><a href="../../../../archives/" target="_self" class="nav-list-link">ARCHIVES</a></li><li class="nav-list-item"><a href="../../../../atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">typealiasç±»å‹åˆ«åå’Œassociatedtypeç±»å‹å ä½</h1><div class="post-info">2020å¹´8æœˆ30æ—¥</div><div class="post-content"><p>å­¦ä¹ typealiaså’Œassociatedtype ç±»å‹å ä½</p>
<h2 id="typealias-ç±»å‹åˆ«å"><a href="#typealias-ç±»å‹åˆ«å" class="headerlink" title="typealias ç±»å‹åˆ«å"></a>typealias ç±»å‹åˆ«å</h2><blockquote>
<p>typealias ç”¨æ¥ç»™å·²ç»å­˜åœ¨çš„ç±»å‹ä»æ–°å®šä¹‰åå­—</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typealias</span> <span class="type">Location</span> = <span class="type">CGPoint</span>    <span class="comment">//å¦‚å°†CGPint å–åˆ«åLocation</span></span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨-typealias-æ›´å¥½çš„é˜…è¯»æ€§"><a href="#ä½¿ç”¨-typealias-æ›´å¥½çš„é˜…è¯»æ€§" class="headerlink" title="ä½¿ç”¨ typealias æ›´å¥½çš„é˜…è¯»æ€§"></a>ä½¿ç”¨ typealias æ›´å¥½çš„é˜…è¯»æ€§</h4><blockquote>
<p>åŸä»£ç ï¼Œä¸¤ç‚¹å·®å€¼è·ç¦»</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">distance</span><span class="params">(from point: CGPoint, to anotherPoint: CGPoint)</span></span> -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> dx = <span class="type">Double</span>(anotherPoint.x - point.x)</span><br><span class="line">    <span class="keyword">let</span> dy = <span class="type">Double</span>(anotherPoint.y - point.y)</span><br><span class="line">    <span class="keyword">return</span> sqrt(dx * dx + dy * dy)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> origin: <span class="type">CGPoint</span> = <span class="type">CGPoint</span>(x: <span class="number">0</span>, y: <span class="number">0</span>)</span><br><span class="line"><span class="keyword">let</span> point: <span class="type">CGPoint</span> = <span class="type">CGPoint</span>(x: <span class="number">1</span>, y: <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> d: <span class="type">Double</span> =  <span class="built_in">distance</span>(from: origin, to: point)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å–åˆ«ååï¼Œæœ‰äº†æ›´å¥½çš„é˜…è¯»æ€§</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="keyword">typealias</span> <span class="type">Location</span> = <span class="type">CGPoint</span></span><br><span class="line"><span class="keyword">typealias</span> <span class="type">Distance</span> = <span class="type">Double</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">distance</span><span class="params">(from location: Location,</span></span></span><br><span class="line"><span class="function"><span class="params">    to anotherLocation: Location)</span></span> -&gt; <span class="type">Distance</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> dx = <span class="type">Distance</span>(location.x - anotherLocation.x)</span><br><span class="line">        <span class="keyword">let</span> dy = <span class="type">Distance</span>(location.y - anotherLocation.y)</span><br><span class="line">        <span class="keyword">return</span> sqrt(dx * dx + dy * dy)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> origin: <span class="type">Location</span> = <span class="type">Location</span>(x: <span class="number">0</span>, y: <span class="number">0</span>)</span><br><span class="line"><span class="keyword">let</span> point: <span class="type">Location</span> = <span class="type">Location</span>(x: <span class="number">1</span>, y: <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> d: <span class="type">Distance</span> = <span class="built_in">distance</span>(from: origin, to: point)</span><br></pre></td></tr></table></figure>

<h3 id="åœ¨typealias-åˆ«åä¸­å¼•å…¥æ³›å‹"><a href="#åœ¨typealias-åˆ«åä¸­å¼•å…¥æ³›å‹" class="headerlink" title="åœ¨typealias åˆ«åä¸­å¼•å…¥æ³›å‹"></a>åœ¨typealias åˆ«åä¸­å¼•å…¥æ³›å‹</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>&lt;<span class="title">T</span>&gt; </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typealias</span> <span class="type">Worker</span>&lt;<span class="type">T</span>&gt; = <span class="type">Person</span>&lt;<span class="type">T</span>&gt;</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨åˆ«åéµå¾ªå¤šä¸ªåè®®"><a href="#ä½¿ç”¨åˆ«åéµå¾ªå¤šä¸ªåè®®" class="headerlink" title="ä½¿ç”¨åˆ«åéµå¾ªå¤šä¸ªåè®®"></a>ä½¿ç”¨åˆ«åéµå¾ªå¤šä¸ªåè®®</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Cat</span> </span>&#123; ... &#125;</span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Dog</span> </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typealias</span> <span class="type">Pat</span> = <span class="type">Cat</span> &amp; <span class="type">Dog</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸çŸ¥codeable æœ‰ç±»åŒç”¨æ³•ï¼Œè®°å¾—ä¸å¤ªæ¸…æ¥šã€‚ã€‚ã€‚</p>
</blockquote>
<h2 id="associatedtype-ç±»å‹å ä½"><a href="#associatedtype-ç±»å‹å ä½" class="headerlink" title="associatedtype ç±»å‹å ä½"></a>associatedtype ç±»å‹å ä½</h2><blockquote>
<p>ç›®æ ‡ä½¿å¾—Tigerç±»åªèƒ½åƒMeatç±»é£Ÿç‰©</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Food</span></span>&#123; &#125;</span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Animal</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Meat</span>:<span class="title">Food</span> </span>&#123; &#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Grass</span>: <span class="title">Food</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Tiger</span>: <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">eat</span><span class="params">( <span class="number">_</span> food: Food)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> meta = food <span class="keyword">as</span>? meat &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"eat \(food)"</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">fatalError</span>(<span class="string">"Tiger can only eat meat!"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ­¤å¤„ä½¿ç”¨äº†as?è½¬ä¹‰Foodç±»æ˜¾å¾—å¤šä½™ï¼Œæ›´å¥½çš„å¤„ç†æ˜¯ç»™Animalå®šä¹‰ä¸€ä¸ªç±»å‹å ä½ï¼Œ ä»£ç å¦‚ä¸‹</p>
<h3 id="ä½¿ç”¨-associatedtype-é¢„å…ˆå ä½ç±»å‹ï¼Œé…åˆtypealiasåŠ¨æ€åˆ†é…ç±»å‹"><a href="#ä½¿ç”¨-associatedtype-é¢„å…ˆå ä½ç±»å‹ï¼Œé…åˆtypealiasåŠ¨æ€åˆ†é…ç±»å‹" class="headerlink" title="ä½¿ç”¨ associatedtype é¢„å…ˆå ä½ç±»å‹ï¼Œé…åˆtypealiasåŠ¨æ€åˆ†é…ç±»å‹"></a>ä½¿ç”¨ associatedtype é¢„å…ˆå ä½ç±»å‹ï¼Œé…åˆtypealiasåŠ¨æ€åˆ†é…ç±»å‹</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Food</span></span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Meat</span>:<span class="title">Food</span> </span>&#123; &#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Grass</span>: <span class="title">Food</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">F</span>: <span class="type">Food</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">eat</span><span class="params">(<span class="number">_</span> food: F )</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Tiger</span>: <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">F</span> = <span class="type">Meat</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">eat</span><span class="params">(<span class="number">_</span> food: Meat)</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"eat \(food)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Sheep</span>: <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">eat</span><span class="params">(<span class="number">_</span> food: Grass)</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"eat \(food)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>associatedtype é¢„å…ˆå®šä¹‰äº†ä¸€ä¸ªç±»å‹å ä½ï¼Œå­ç±»å¯ä»¥åœ¨è‡ªèº«å†ä»æ–°åˆ†é…æƒ³è¦çš„ç±»å‹ï¼Œæ¯”å¦‚ç»™è€è™å®šä¹‰äº†Meatç±»ï¼Œ æˆ‘ä»¬ä¸å†éœ€è¦é‚£å¤šä½™çš„è½¬ä¹‰äº†ã€‚</p>
</blockquote>
<blockquote>
</blockquote>
<h3 id="ä½¿ç”¨associatedtype-åæ³¨æ„äº‹é¡¹âš ï¸"><a href="#ä½¿ç”¨associatedtype-åæ³¨æ„äº‹é¡¹âš ï¸" class="headerlink" title="ä½¿ç”¨associatedtype åæ³¨æ„äº‹é¡¹âš ï¸"></a>ä½¿ç”¨associatedtype åæ³¨æ„äº‹é¡¹âš ï¸</h3><blockquote>
<p>ä½¿ç”¨associatedtype åAnimalåè®®å°†ä¸èƒ½ç‹¬ç«‹ä½¿ç”¨äº†ã€‚å› ä¸ºä»–æœ‰ä¸€ä¸ªä¸ç¡®å®šçš„ç±»å‹ï¼Œæ‰€ä»¥å¦‚ä¸‹ä»£ç å°†ä¸èƒ½é€šè¿‡ç¼–è¯‘ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isDangerous</span><span class="params">(animal: Animal)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> animal <span class="keyword">is</span> <span class="type">Tiger</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸Šæ–¹æ— æ³•ç¼–è¯‘</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>éœ€è¦æ”¹å†™è½¦ç»™æ³›å‹çº¦æŸï¼Œï¼ˆè¿™å—è¿˜ä¸æ˜¯å¤ªæ‡‚ï¼Œå¼ºè¡Œç†è§£ğŸ˜‚ï¼‰</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isDangerous</span>&lt;T: Animal&gt;<span class="params">(animal: T)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> animal <span class="keyword">is</span> <span class="type">Tiger</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isDangerous(animal: <span class="type">Tiger</span>()) <span class="comment">// true</span></span><br><span class="line">isDangerous(animal: <span class="type">Sheep</span>()) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

</div></article></div></main><footer><div class="paginator"><a href="../../19/SwiftUI-StateManager/" class="next">ä¸‹ä¸€ç¯‡</a></div><div class="copyright"><p>Â© 2015 - 2020 <a href="http://tttyyyzzz2020.ghthub.io">yongzhan</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>